(function(t){function e(e){for(var s,n,o=e[0],l=e[1],c=e[2],d=0,u=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&u.push(i[n][0]),i[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);m&&m(e);while(u.length)u.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},i={app:0},r=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var m=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"03cf":function(t,e,a){},"0700":function(t,e,a){},"0c59":function(t,e,a){"use strict";var s=a("1164"),i=a.n(s);i.a},1164:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("d3b7"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-main-wrapper",attrs:{id:"app"}},[a("loading",{attrs:{active:t.isLoading,"is-full-page":!0},on:{"update:active":function(e){t.isLoading=e}}}),t.isLoggedIn?a("span",[a("Navbar"),a("Sidebar"),a("div",{staticClass:"dashboard-wrapper"},[a("router-view"),a("Footer")],1)],1):a("span",[a("Login")],1)],1)},r=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-header"},[a("nav",{staticClass:"navbar navbar-expand-lg bg-white fixed-top"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("PULS Admin")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse ",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav ml-auto navbar-right-top"},[a("li",{staticClass:"nav-item dropdown nav-user"},[t._m(1),a("div",{staticClass:"dropdown-menu dropdown-menu-right nav-user-dropdown",attrs:{"aria-labelledby":"navbarDropdownMenuLink2"}},[t._m(2),a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"cog"}}),t._v("Réglages")],1),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"power-off"}}),t._v("Déconnexion")],1)])])])])],1)])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"nav-link nav-user-img",attrs:{href:"#",id:"navbarDropdownMenuLink2","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("span",{staticClass:"user-avatar-md rounded-circle bg-primary d-flex align-items-center justify-content-center",staticStyle:{width:"40px",height:"40px"}},[t._v("A")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav-user-info"},[a("h5",{staticClass:"mb-0 text-white nav-user-name"},[t._v("Admin")])])}],l={name:"Navbar",computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn},isAdmin:function(){return this.$store.getters.isAdmin},isSuperAdmin:function(){return this.$store.getters.isSuperAdmin},isTerminalOn:function(){return this.$store.state.currentTerminal.is_on}},methods:{logout:function(){this.$store.dispatch("logout")}}},c=l,m=a("2877"),d=Object(m["a"])(c,n,o,!1,null,null,null),u=d.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[t._m(0),a("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12"},[a("div",{staticClass:"text-md-right footer-links d-none d-sm-block"},[a("router-link",{attrs:{to:"/home"}},[t._v("Accueil")])],1)])])])])},v=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12"},[t._v(" Copyright © 2020 PULS. All rights reserved. Theme by "),a("a",{attrs:{href:"https://colorlib.com/wp/"}},[t._v("Colorlib")]),t._v(". ")])}],g={name:"Footer"},f=g,h=Object(m["a"])(f,p,v,!1,null,null,null),b=h.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav-left-sidebar sidebar-dark"},[a("div",{staticClass:"menu-list"},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-light"},[a("a",{staticClass:"d-xl-none d-lg-none",attrs:{href:"#"}},[t._v("Dashboard")]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[a("ul",{staticClass:"navbar-nav flex-column"},[a("li",{staticClass:"nav-divider"},[t._v(" Menu ")]),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link first",attrs:{exact:"",to:"/"}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"rocket"}}),t._v("Dashboard")],1)],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link first",attrs:{to:"/terminals",exact:"",event:"",href:"#","data-toggle":"collapse","aria-expanded":"false","data-target":"#submenu-terminals","aria-controls":"submenu-terminals"}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"user"}}),t._v(" Terminaux")],1),a("div",{staticClass:"collapse submenu",attrs:{id:"submenu-terminals"}},[a("ul",{staticClass:"nav flex-column"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/terminals"}},[t._v("Tous les terminaux")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"addTerminal"}}},[t._v("Ajouter un terminal")])],1)])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link first",attrs:{to:"/campaigns",exact:"",event:"",href:"#","data-toggle":"collapse","aria-expanded":"false","data-target":"#submenu-campaigns","aria-controls":"submenu-campaigns"}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"file"}}),t._v(" Campagnes")],1),a("div",{staticClass:"collapse submenu",attrs:{id:"submenu-campaigns"}},[a("ul",{staticClass:"nav flex-column"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/campaigns"}},[t._v("Toutes les campagnes")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"addCampaign"}}},[t._v("Ajouter une campagne")])],1)])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link first",attrs:{to:"/games",exact:"",event:"",href:"#","data-toggle":"collapse","aria-expanded":"false","data-target":"#submenu-games","aria-controls":"submenu-games"}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"gamepad"}}),t._v(" Jeux")],1),a("div",{staticClass:"collapse submenu",attrs:{id:"submenu-games"}},[a("ul",{staticClass:"nav flex-column"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/games"}},[t._v("Tous les jeux")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"addGame"}}},[t._v("Ajouter un jeu")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/cores"}},[t._v("Tous les cores")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"addCore"}}},[t._v("Ajouter un core")])],1)])])],1),a("li",{staticClass:"nav-divider"},[t._v(" Gestion ")]),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link first",attrs:{to:"/clients",exact:"",event:"",href:"#","data-toggle":"collapse","aria-expanded":"false","data-target":"#submenu-clients","aria-controls":"submenu-clients"}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"columns"}}),t._v(" Clients")],1),a("div",{staticClass:"collapse submenu",attrs:{id:"submenu-clients"}},[a("ul",{staticClass:"nav flex-column"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/clients"}},[t._v("Tous les clients")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"addClient"}}},[t._v("Ajouter un client")])],1)])])],1)])])])])])},_=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],x={name:"Sidebar"},y=x,w=Object(m["a"])(y,C,_,!1,null,null,null),k=w.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"splash-container"},[a("div",{staticClass:"card "},[t._m(0),t.errors.visible?a("div",{staticClass:"card-body border-bottom"},[t.errors.visible?a("Alert",{attrs:{type:t.errors.type,message:t.errors.message},on:{dismiss:function(e){t.errors.visible=!1}}}):t._e()],1):t._e(),a("div",{staticClass:"card-body"},[a("form",[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.username,expression:"credentials.username"}],staticClass:"form-control form-control-lg",attrs:{id:"username",type:"text",placeholder:"Username"},domProps:{value:t.credentials.username},on:{input:function(e){e.target.composing||t.$set(t.credentials,"username",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.password,expression:"credentials.password"}],staticClass:"form-control form-control-lg",attrs:{id:"password",type:"password",placeholder:"Password"},domProps:{value:t.credentials.password},on:{input:function(e){e.target.composing||t.$set(t.credentials,"password",e.target.value)}}})]),a("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.login(e)}}},[t._v(" Se connecter ")])])])])])},j=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header text-center"},[a("h3",[t._v("PULS Admin")]),a("span",{staticClass:"splash-description"},[t._v("Veuillez entrer vos informations de connexion.")])])}],A={name:"Login",data:function(){return{credentials:{username:"",password:""},loading:!1,errors:{visible:!1,type:"danger",message:""}}},methods:{login:function(){var t=this;this.loading=!0,this.$store.dispatch("login",this.credentials).then((function(){return t.$router.push("/")})).catch((function(e){t.loading=!1,t.errors={visible:!0,type:"danger",message:e.response.data["non_field_errors"][0]}}))}}},E=A,P=(a("0c59"),Object(m["a"])(E,$,j,!1,null,"ba69cbe8",null)),D=P.exports,T=a("9062"),S=a.n(T),N=(a("e40d"),{name:"App",components:{Navbar:u,Footer:b,Sidebar:k,Login:D,Loading:S.a},computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn},isLoading:function(){return this.$store.getters.loading}},mounted:function(){}}),L=N,q=Object(m["a"])(L,i,r,!1,null,null,null),O=q.exports,I=(a("b0c0"),a("8c4f")),z=(a("c975"),a("2f62")),G=a("bc3a"),F=a.n(G);s["a"].use(z["a"]);var M=new z["a"].Store({state:{status:"",errors:"",token:localStorage.getItem("token")||"",user_id:localStorage.getItem("user_id")||"",is_admin:"true"==localStorage.getItem("is_admin")||"",is_superadmin:"true"==localStorage.getItem("is_superadmin")||"",maxGames:3,maxCampaigns:3,currentDonator:"",newDonatorEmail:"",currentTerminal:"",currentCampaign:"",currentGame:"",session:{terminal:"",donator:"",start_global:null,end_global:null,start_time:null,end_time:null,position_asso:"",campaign:"",game:null},loading:!1,gamepad:{A:!1,B:!1,Right:!1,Left:!1,Top:!1,Bottom:!1,Start:!1}},mutations:{stopListening:function(t){t.gamepad.listening=!1},startListening:function(t){t.gamepad.listening=!0},toggleA:function(t,e){t.gamepad.A=e},toggleB:function(t,e){t.gamepad.B=e},toggleRight:function(t,e){t.gamepad.Right=e},toggleLeft:function(t,e){t.gamepad.Left=e},toggleTop:function(t,e){t.gamepad.Top=e},toggleBottom:function(t,e){t.gamepad.Bottom=e},toggleStart:function(t,e){t.gamepad.Start=e},auth_success:function(t,e){t.status="success",t.token=e.token,t.user_id=e.user_id,t.is_admin=e.is_admin,t.is_superadmin=e.is_superadmin},auth_error:function(t,e){t.status="error",t.errors=e.response},logout:function(t){t.status="",t.token="",t.user_id="",t.is_admin=!1,t.is_superadmin=!1},saveCurrentDonator:function(t,e){t.currentDonator=e,t.session.donator=e.id},saveCurrentTerminal:function(t,e){t.currentTerminal=e},startTerminal:function(t,e){t.currentTerminal=e.terminal},stopTerminal:function(t){t.currentTerminal="",t.currentCampaign=""},saveNewDonatorEmail:function(t,e){t.newDonatorEmail=e},deleteGamingStates:function(t){t.newDonatorEmail="",t.currentDonator="",t.currentPayment={},t.currentTerminal="",t.currentCampaign="",t.currentGame="",t.session={}},startSession:function(t){t.session.start_global=new Date},endSession:function(t){t.session.end_global=new Date},startGameSession:function(t){t.session.start_time=new Date},endGameSession:function(t){t.session.end_time=new Date},saveCampaignChoice:function(t,e){t.session.campaign=e.campaign.id,t.currentCampaign=e.campaign,t.session.terminal=t.currentTerminal.id,t.session.position_asso=e.indexOf},saveGameChoice:function(t,e){t.currentGame=e,t.session.game=e.id},setSessionId:function(t,e){t.session.id=e},loading:function(t,e){t.loading=e}},actions:{startSession:function(t){var e=this,a=t.commit;F.a.post("donator/",{}).then((function(t){a("saveCurrentDonator",t.data),F.a.post("session/",e.state.session).then((function(t){a("setSessionId",t.data.id)})).catch((function(t){console.log(t)}))}))},updateSession:function(){F.a.put("session/"+this.state.session.id+"/",this.state.session)},login:function(t,e){var a=t.commit;return new Promise((function(t,s){F.a.post("auth/",e).then((function(e){var s="Token "+e.data.token;localStorage.setItem("token",s),localStorage.setItem("user_id",e.data.user_id),localStorage.setItem("is_admin",e.data.is_admin),localStorage.setItem("is_superadmin",e.data.is_superadmin),F.a.defaults.headers.common["Authorization"]=s,a("auth_success",{token:s,user_id:e.data.user_id,is_admin:e.data.is_admin,is_superadmin:e.data.is_superadmin}),t(e)})).catch((function(t){console.log(t),a("auth_error",t),localStorage.removeItem("token"),s(t)}))}))},register:function(t,e){var a=t.commit;return new Promise((function(t,s){F.a.post("api/user/",e).then((function(e){console.log(e),t(e)})).catch((function(t){a("auth_error",t),localStorage.removeItem("token"),s(t)}))}))},logout:function(t){var e=this,a=t.commit;return new Promise((function(t){e.getters.isAdmin||F.a.get("terminal/mine/off/").then((function(e){t(e)})).catch((function(t){console.log(t.response)})),a("logout"),localStorage.removeItem("token"),localStorage.removeItem("user_id"),localStorage.removeItem("is_admin"),localStorage.removeItem("is_superadmin"),delete F.a.defaults.headers.common["Authorization"]}))}},getters:{loading:function(t){return t.loading},isLoggedIn:function(t){return!!t.token},authStatus:function(t){return t.status},isAdmin:function(t){return t.is_admin},isSuperAdmin:function(t){return t.is_superadmin}},modules:{}}),H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-ecommerce"},[a("div",{staticClass:"container-fluid dashboard-content "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"page-header"},[a("h2",{staticClass:"pageheader-title"},[t._v("Dashboard")]),a("div",{staticClass:"page-breadcrumb"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb d-flex align-items-center"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/"}},[t._v("Dashboard")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" Général ")])],1)])])])])]),a("div",{staticClass:"ecommerce-widget"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3 col-lg-6 col-md-6 col-sm-12 col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"text-muted"},[t._v("Collecté ce mois")]),a("div",{staticClass:"metric-value d-inline-block"},[t.collected>0?a("h1",{staticClass:"mb-1"},[t._v(t._s(t.collected)+" €")]):a("h1",{staticClass:"mb-1"},[t._v("0 €")])]),t.collected_last>0?a("div",{staticClass:"metric-label d-inline-block float-right text-success font-weight-bold"},[a("span",[a("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:"arrow-up"}})],1),a("span",[t._v("+"+t._s(100*t.collected_last)+" %")])]):t.collected_last<0?a("div",{staticClass:"metric-label d-inline-block float-right text-danger font-weight-bold"},[a("span",[a("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:"arrow-down"}})],1),a("span",[t._v(t._s(100*t.collected_last)+" %")])]):a("div",{staticClass:"metric-label d-inline-block float-right text-warning font-weight-bold"},[a("span",[t._v("+"+t._s(t.collected_last)+" %")])])])])]),a("div",{staticClass:"col-xl-3 col-lg-6 col-md-6 col-sm-12 col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"text-muted"},[t._v("Nombre de donateurs")]),a("div",{staticClass:"metric-value d-inline-block"},[a("h1",{staticClass:"mb-1"},[t._v(t._s(t.nb_donators))])]),t.nb_donators_last>0?a("div",{staticClass:"metric-label d-inline-block float-right text-success font-weight-bold"},[a("span",[a("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:"arrow-up"}})],1),a("span",[t._v("+"+t._s(100*t.nb_donators_last)+" %")])]):t.nb_donators_last<0?a("div",{staticClass:"metric-label d-inline-block float-right text-danger font-weight-bold"},[a("span",[a("font-awesome-icon",{staticClass:"mr-1",attrs:{icon:"arrow-down"}})],1),a("span",[t._v(t._s(100*t.nb_donators_last)+" %")])]):a("div",{staticClass:"metric-label d-inline-block float-right text-warning font-weight-bold"},[a("span",[t._v("+"+t._s(t.nb_donators_last)+" %")])])])])]),a("div",{staticClass:"col-xl-3 col-lg-6 col-md-6 col-sm-12 col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"text-muted"},[t._v("Nombre de terminaux")]),a("div",{staticClass:"metric-value d-inline-block"},[a("h1",{staticClass:"mb-1"},[t._v(t._s(t.nb_terminals))])])])])]),a("div",{staticClass:"col-xl-3 col-lg-6 col-md-6 col-sm-12 col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"text-muted"},[t._v("Temps total de jeu")]),a("div",{staticClass:"metric-value d-inline-block"},[a("h1",{staticClass:"mb-1"},[t._v(t._s(t.total_gamesession))])])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-9 col-lg-12 col-md-6 col-sm-12 col-12"},[a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[t._v("Terminaux allumés")]),a("div",{staticClass:"card-body p-0"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table"},[t._m(0),t.terminals.length>0?a("tbody",t._l(t.terminals,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(s+1))]),a("td",[e.is_playing?a("span",{staticClass:"text-success"},[t._v("En jeu")]):a("span",{staticClass:"text-warning"},[t._v("Allumé")])]),a("td",[t._v(t._s(e.name))]),a("td",[a("router-link",{attrs:{to:"/clients"}},[t._v(t._s(e.owner.customer.company))])],1),a("td",t._l(e.campaigns,(function(e,s){return a("span",{key:s,staticClass:"border border-primary p-1 small rounded mr-1"},[a("router-link",{attrs:{to:"/campaigns/"+e.id}},[t._v(t._s(e.name))])],1)})),0),e.total_donations?a("td",[t._v(" "+t._s(e.total_donations)+" € ")]):a("td",[t._v("0 €")])])})),0):a("tbody",[t._m(1)])])])])])])])])])])},J=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"bg-light"},[a("tr",{staticClass:"border-0"},[a("th",{staticClass:"border-0"},[t._v("#")]),a("th",{staticClass:"border-0"},[t._v("Status")]),a("th",{staticClass:"border-0"},[t._v("Nom")]),a("th",{staticClass:"border-0"},[t._v("Client")]),a("th",{staticClass:"border-0"},[t._v("Campagnes")]),a("th",{staticClass:"border-0"},[t._v("Total dons")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"text-center",attrs:{colspan:"6"}},[t._v(" Aucun terminal allumé pour le moment. ")])])}],U={name:"Home",data:function(){return{terminals:{},collected:0,nb_donators:0,nb_terminals:0,total_gamesession:0,collected_last:0,nb_donators_last:0}},mounted:function(){this.getStats()},methods:{getStats:function(){var t=this;this.$http.get("dashboard/").then((function(e){t.terminals=e.data.terminals,t.collected=e.data.collected,t.nb_donators=e.data.nb_donators,t.nb_terminals=e.data.nb_terminals,t.total_gamesession=e.data.total_gamesession,0==e.data.collected_last|!e.data.collected_last?t.collected_last=0:t.collected_last=(e.data.collected-e.data.collected_last)/e.data.collected_last,0==e.data.nb_donators_last|!e.data.nb_donators_last?t.nb_donators=0:t.nb_donators_last=(e.data.nb_donators-e.data.nb_donators_last)/e.data.nb_donators_last})).catch((function(){t.errors={visible:!0,type:"danger",message:"Impossible de récupérer les statistiques, contactez le webmaster."}}))}}},V=U,B=Object(m["a"])(V,H,J,!1,null,null,null),R=B.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-ecommerce"},[a("div",{staticClass:"container-fluid dashboard-content "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"d-flex justify-content-between"},[a("h2",{staticClass:"pageheader-title"},[t._v("Terminaux")]),a("router-link",{staticClass:"btn btn-primary mb-1",attrs:{to:{name:"addTerminal"}}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"plus"}}),t._v("Ajouter un terminal")],1)],1),a("div",{staticClass:"page-breadcrumb"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb d-flex align-items-center"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/home"}},[t._v("Dashboard")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/terminals"}},[t._v("Terminaux")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" Tous les terminaux ")])],1)])])])])]),t.errors.visible?a("Alert",{attrs:{type:t.errors.type,message:t.errors.message},on:{dismiss:function(e){t.errors.visible=!1}}}):t._e(),a("div",{staticClass:"ecommerce-widget"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[t._v("Terminaux")]),a("div",{staticClass:"card-body p-0"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.terminals,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.id))]),a("td",[e.is_active?a("span",{staticClass:"text-success"},[t._v("Activé")]):a("span",{staticClass:"text-danger"},[t._v("Désactivé")])]),a("td",[e.is_on&e.is_playing?a("span",[a("span",{staticClass:"badge-dot badge-success mr-1"}),t._v("En jeu")]):t._e(),e.is_on&!e.is_playing?a("span",[a("span",{staticClass:"badge-dot badge-warning mr-1"}),t._v("Allumé")]):a("span",[a("span",{staticClass:"badge-dot badge-danger mr-1"}),t._v("Eteint")])]),a("td",[t._v(t._s(e.name))]),a("td",[a("router-link",{attrs:{to:"/clients"}},[t._v(t._s(e.owner.customer.company))])],1),a("td",t._l(e.campaigns,(function(e,s){return a("span",{key:s,staticClass:"border border-primary p-1 small rounded mr-1"},[a("router-link",{attrs:{to:"/campaigns/"+e.id}},[t._v(t._s(e.name))])],1)})),0),e.total_donations?a("td",[t._v(" "+t._s(e.total_donations)+" € ")]):a("td",[t._v("0 €")]),a("td",[a("router-link",{staticClass:"text-dark",attrs:{to:"/terminals/"+e.id}},[a("font-awesome-icon",{attrs:{icon:"eye"}})],1)],1),a("td",[e.is_active?a("a",{staticClass:"text-success",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.deactivateTerminal(s)}}},[a("font-awesome-icon",{attrs:{icon:"power-off"}})],1):a("a",{staticClass:"text-danger",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.activateTerminal(s)}}},[a("font-awesome-icon",{attrs:{icon:"power-off"}})],1)]),a("td",[a("router-link",{staticClass:"text-primary",attrs:{to:"/terminal/"+e.id+"/edit"}},[a("font-awesome-icon",{attrs:{icon:"pen"}})],1)],1),a("td",[a("router-link",{staticClass:"text-danger",attrs:{to:"/"}},[a("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)],1)])})),0)])])])])])])])],1)])},Y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"bg-light"},[a("tr",{staticClass:"border-0"},[a("th",{staticClass:"border-0"},[t._v("#")]),a("th",{staticClass:"border-0"},[t._v("Actif")]),a("th",{staticClass:"border-0"},[t._v("Status")]),a("th",{staticClass:"border-0"},[t._v("Nom")]),a("th",{staticClass:"border-0"},[t._v("Client")]),a("th",{staticClass:"border-0"},[t._v("Campagnes")]),a("th",{staticClass:"border-0"},[t._v("Total dons")]),a("th",{staticClass:"border-0"}),a("th",{staticClass:"border-0"}),a("th",{staticClass:"border-0"}),a("th",{staticClass:"border-0"})])])}],K={name:"AllTerminals",data:function(){return{terminals:{},errors:{visible:!1,type:"danger",message:""}}},mounted:function(){this.getTerminals()},methods:{getTerminals:function(){var t=this;this.$http.get("terminal/").then((function(e){t.terminals=e.data})).catch((function(){t.errors={visible:!0,type:"danger",message:"Impossible de récupérer la liste des terminaux. Vérifier que le serveur est opérationnelle."}}))},activateTerminal:function(t){var e=this;this.terminals[t].campaigns.length>0&&this.terminals[t].games.length>0?this.$http.get("terminal/"+this.terminals[t].id+"/activate/").then((function(a){e.$set(e.terminals[t],"is_active",a.data.is_active)})).catch((function(){e.errors={visible:!0,type:"danger",message:"Impossible de d'activer le terminal."}})):this.errors={visible:!0,type:"danger",message:"Impossible d'activer un terminal sans campagne ou sans jeu."}},deactivateTerminal:function(t){var e=this;this.$http.get("terminal/"+this.terminals[t].id+"/deactivate/").then((function(a){e.$set(e.terminals[t],"is_active",a.data.is_active)})).catch((function(){e.errors={visible:!0,type:"danger",message:"Impossible de désactiver le terminal."}}))}}},Q=K,X=Object(m["a"])(Q,W,Y,!1,null,null,null),Z=X.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-ecommerce"},[a("div",{staticClass:"container-fluid dashboard-content "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"page-header"},[a("h2",{staticClass:"pageheader-title"},[t._v("Terminaux")]),a("div",{staticClass:"page-breadcrumb"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb d-flex align-items-center"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/"}},[t._v("Dashboard")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/terminals"}},[t._v("Terminaux")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.terminal.name)+" ")])],1)])])])])]),t.errors.visible?a("Alert",{attrs:{type:t.errors.type,message:t.errors.message},on:{dismiss:function(e){t.errors.visible=!1}}}):t._e(),t.terminal.name?a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3 col-lg-3 col-md-5 col-sm-12 col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[t._m(0),a("div",{staticClass:"text-center"},[a("h2",{staticClass:"font-24 mb-0"},[t._v(t._s(t.terminal.name))]),a("p",[t._v(" "+t._s(t.terminal.owner.customer.company)+" "),a("span",{staticClass:"mx-2"},[t._v("|")]),t.terminal.is_active?a("span",{staticClass:"text-success"},[t._v("Activé")]):a("span",{staticClass:"text-danger"},[t._v("Désactivé")])])]),a("div",{staticClass:"d-flex align-items-center justify-content-center mt-2"},[t.terminal.is_on?a("span",{staticClass:"badge badge-success mr-2"},[t._v("Allumé")]):a("span",{staticClass:"badge badge-danger mr-2"},[t._v("Eteint")]),t.terminal.is_playing?a("span",{staticClass:"badge badge-warning mr-2"},[t._v("En jeu")]):t._e()])]),a("div",{staticClass:"card-body border-top"},[a("h3",{staticClass:"font-16"},[t._v("Informations de contact")]),a("div",{},[a("ul",{staticClass:"list-unstyled mb-0"},[a("li",{staticClass:"mb-2"},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"envelope"}}),t._v(t._s(t.terminal.owner.customer.representative)+" ")],1),a("li",{staticClass:"mb-0"},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"map-pin"}}),t._v(t._s(t.terminal.location)+" ")],1)])])]),a("div",{staticClass:"card-body border-top"},[a("h3",{staticClass:"font-16"},[t._v("Campagnes")]),a("div",{},[a("ul",{staticClass:"mb-0 list-unstyled"},t._l(t.terminal.campaigns,(function(e,s){return a("li",{key:s,staticClass:"mb-1 border border-primary rounded p-1 px-2 bg-light campaign-card"},[a("router-link",{attrs:{to:"/campaigns/"+e.id}},[a("img",{staticClass:"mr-2 campaign-logo-grayed",attrs:{src:e.logo,width:"20",alt:e.name}}),t._v(t._s(e.name))])],1)})),0)])]),a("div",{staticClass:"card-body border-top"},[a("h3",{staticClass:"font-16"},[t._v("Jeux")]),a("div",{},[a("ul",{staticClass:"mb-0 list-unstyled"},t._l(t.terminal.games,(function(e,s){return a("li",{key:s,staticClass:"mb-1 border border-primary rounded p-1 px-2 bg-light campaign-card"},[a("router-link",{attrs:{to:"/games/"+e.id}},[a("img",{staticClass:"mr-2 campaign-logo-grayed",attrs:{src:e.logo,width:"20",alt:e.name}}),t._v(t._s(e.name))])],1)})),0)])])])]),a("div",{staticClass:"col-xl-9 col-lg-9 col-md-7 col-sm-12 col-12"},[a("div",{staticClass:"influence-profile-content pills-regular"},[a("ul",{staticClass:"nav nav-pills mb-3 nav-justified",attrs:{id:"pills-tab",role:"tablist"}},[t._m(1),a("li",{staticClass:"nav-item"},[t.terminal.is_active?a("a",{staticClass:"nav-link text-danger",attrs:{href:"",id:"pills-packages-tab"},on:{click:function(e){return e.preventDefault(),t.deactivateTerminal(t.terminal.id)}}},[t._v("Désactiver")]):a("a",{staticClass:"nav-link text-success",attrs:{href:"",id:"pills-packages-tab"},on:{click:function(e){return e.preventDefault(),t.activateTerminal(t.terminal.id)}}},[t._v("Activer")])]),t._m(2)]),a("div",{staticClass:"tab-content",attrs:{id:"pills-tabContent"}},[a("div",{staticClass:"tab-pane fade show active",attrs:{id:"pills-stats",role:"tabpanel","aria-labelledby":"pills-stats-tab"}},[a("div",{staticClass:"row"},[t._m(3),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-6 col-sm-12 col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("h1",{staticClass:"mb-1"},[t._v(t._s(t.terminal.total_donations)+" €")]),a("p",[t._v("Totals dons")])])])]),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-6 col-sm-12 col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[t.terminal.avg_donation?a("h1",{staticClass:"mb-1"},[t._v(" "+t._s(t.terminal.avg_donation.toFixed(2))+" € ")]):a("h1",{staticClass:"mb-1"},[t._v(" 0 € ")]),a("p",[t._v("Don moyen")])])])]),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-6 col-sm-12 col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[t.terminal.avg_timesession?a("h1",{staticClass:"mb-1"},[t._v(" "+t._s(t.terminal.avg_timesession)+" ")]):a("h1",{staticClass:"mb-1"},[t._v("00:00:00")]),a("p",[t._v("Session moyenne")])])])]),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-6 col-sm-12 col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[t.terminal.avg_gametimesession?a("h1",{staticClass:"mb-1"},[t._v(" "+t._s(t.terminal.avg_gametimesession)+" ")]):a("h1",{staticClass:"mb-1"},[t._v("00:00:00")]),a("p",[t._v("Temps de jeu moyen")])])])])]),t._m(4),a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[t._v("Dons")]),a("div",{staticClass:"card-body p-0"},[a("div",{staticClass:"dataTables_wrapper dt-bootstrap4"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table"},[t._m(5),a("tbody",t._l(t.displayedPayments,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.id))]),a("td",["Accepted"==e.status?a("span",{staticClass:"text-success"},[t._v(t._s(e.status))]):a("span",{staticClass:"text-danger"},[t._v(t._s(e.status))])]),a("td",[t._v("N° "+t._s(e.donator.id))]),a("td",[a("router-link",{attrs:{to:"/"}},[a("img",{staticClass:"mr-2 campaign-logo-grayed",attrs:{src:e.campaign.logo,width:"20",alt:e.campaign.name}}),t._v(t._s(e.campaign.name))])],1),a("td",[t._v(t._s(e.amount)+" €")]),a("td",[a("router-link",{attrs:{to:"/"}},[a("img",{staticClass:"mr-2 campaign-logo-grayed",attrs:{src:e.game.logo,width:"20",alt:e.game.name}}),t._v(t._s(e.game.name))])],1)])})),0)])]),a("div",{staticClass:"d-flex align-items-center justify-content-between my-2"},[a("div",{staticClass:"col-sm-12 col-md-5"},[a("div",{staticClass:"dataTables_info",attrs:{id:"DataTables_Table_0_info",role:"status","aria-live":"polite"}},[t._v(" Afficher 1 à "+t._s(t.perPage)+" de "+t._s(t.allPayments.length)+" entrées ")])]),a("div",{staticClass:"col-sm-12 col-md-7 d-flex justify-content-end"},[a("nav",{staticClass:"w-100",attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination w-100  d-flex justify-content-end"},[a("li",{staticClass:"page-item"},[1!=t.page?a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.page--}}},[t._v("Previous")]):t._e()]),t._l(t.pages.slice(t.page-1,t.page+5),(function(e){return a("li",{key:e,staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.page=e}}},[t._v(t._s(e))])])})),a("li",{staticClass:"page-item"},[t.page<t.pages.length?a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.page++}}},[t._v("Next")]):t._e()])],2)])])])])])])])])])])]):t._e()],1)])},et=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-avatar text-center d-block"},[s("img",{attrs:{src:a("7ca3"),alt:"User Avatar",height:"100"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link active",attrs:{id:"pills-stats-tab","data-toggle":"pill",href:"#pills-stats",role:"tab","aria-controls":"pills-stats","aria-selected":"true"}},[t._v("Statistiques")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link text-danger",attrs:{id:"pills-review-tab"}},[t._v("Supprimer")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"section-block"},[a("h3",{staticClass:"section-title"},[t._v("Statistiques générales")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section-block"},[a("h3",{staticClass:"section-title"},[t._v("Derniers dons")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"bg-light"},[a("tr",{staticClass:"border-0"},[a("th",{staticClass:"border-0"},[t._v("#")]),a("th",{staticClass:"border-0"},[t._v("Status")]),a("th",{staticClass:"border-0"},[t._v("Donateur")]),a("th",{staticClass:"border-0"},[t._v("Campagne")]),a("th",{staticClass:"border-0"},[t._v("Montant")]),a("th",{staticClass:"border-0"},[t._v("Jeu")])])])}],at=(a("fb6a"),a("5319"),{name:"ShowTerminal",data:function(){return{terminal:{owner:{customer:{company:""}},payments:[]},errors:{visible:!1,type:"danger",message:""},page:1,perPage:9,pages:[]}},mounted:function(){this.getTerminal()},watch:{allPayments:function(){this.setPages()}},computed:{allPayments:function(){return this.terminal.payments},displayedPayments:function(){return this.paginate(this.allPayments)}},methods:{getTerminal:function(){var t=this;this.$http.get("terminal/"+this.$route.params.id+"/").then((function(e){t.terminal=e.data,t.terminal.avg_donation=e.data.avg_donation,t.terminal.avg_gametimesession=e.data.avg_gametimesession.replace(/"/g,""),t.terminal.avg_timesession=e.data.avg_timesession.replace(/"/g,"")})).catch((function(e){t.errors={visible:!0,type:"danger",message:e}}))},setPages:function(){for(var t=Math.ceil(this.allPayments.length/this.perPage),e=1;e<=t;e++)this.pages.push(e)},paginate:function(t){var e=this.page,a=this.perPage,s=e*a-a,i=e*a;return t.slice(s,i)},activateTerminal:function(t){var e=this;this.terminal.campaigns.length>0&&this.terminal.games.length>0?this.$http.get("terminal/"+t+"/activate/").then((function(t){e.$set(e.terminal,"is_active",t.data.is_active)})).catch((function(){e.errors={visible:!0,type:"danger",message:"Impossible de d'activer le terminal."}})):this.errors={visible:!0,type:"danger",message:"Impossible d'activer un terminal sans campagne ou sans jeu."}},deactivateTerminal:function(t){var e=this;this.$http.get("terminal/"+t+"/deactivate/").then((function(t){e.$set(e.terminal,"is_active",t.data.is_active)})).catch((function(){e.errors={visible:!0,type:"danger",message:"Impossible de désactiver le terminal."}}))}}}),st=at,it=Object(m["a"])(st,tt,et,!1,null,null,null),rt=it.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-ecommerce"},[a("div",{staticClass:"container-fluid dashboard-content "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"page-header"},[t._m(0),a("div",{staticClass:"page-breadcrumb"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb d-flex align-items-center"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/home"}},[t._v("Dashboard")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/terminals"}},[t._v("Terminaux")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" Ajouter un terminal ")])],1)])])])])]),t.errors.visible?a("Alert",{attrs:{type:t.errors.type,message:t.errors.message},on:{dismiss:function(e){t.errors.visible=!1}}}):t._e(),t.formVisible?a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header d-flex align-items-center justify-content-between"},[a("h5",{staticClass:"mb-0"},[t._v("Ajouter un terminal")]),a("a",{staticClass:"btn btn-dark",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.goBack(e)}}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"undo"}}),t._v("Choisir un autre client")],1)]),a("div",{staticClass:"card-body"},[t.choosenCustomer.company?a("h4",{staticClass:"mb-0"},[t._v("Client choisi")]):a("h4",{staticClass:"mb-0"},[t._v("Nouveau client")]),a("p",[t._v("Le compte lié au nouveau terminal.")]),a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{staticClass:"col-form-label",attrs:{for:"company"}},[t._v("Nom de l'entreprise")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.company,expression:"customer.company"}],staticClass:"form-control",attrs:{disabled:t.choosenCustomer.company,type:"text"},domProps:{value:t.customer.company},on:{input:function(e){e.target.composing||t.$set(t.customer,"company",e.target.value)}}})]),a("div",{staticClass:"form-group col"},[a("label",{staticClass:"col-form-label",attrs:{for:"inputEmail"}},[t._v("Contact au sein de l'entreprise")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.representative,expression:"customer.representative"}],staticClass:"form-control",attrs:{type:"email",placeholder:"name@example.com",disabled:t.choosenCustomer.representative},domProps:{value:t.customer.representative},on:{input:function(e){e.target.composing||t.$set(t.customer,"representative",e.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-md-6 col-12"},[a("label",{attrs:{for:"sales_type"}},[t._v("Type de vente")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.customer.sales_type,expression:"customer.sales_type"}],staticClass:"custom-select",attrs:{disabled:t.choosenCustomer.sales_type},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.customer,"sales_type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"A",checked:"A"==t.customer.sales_type}},[t._v("Achat")]),a("option",{attrs:{value:"L",checked:"L"==t.customer.sales_type}},[t._v("Location")])])]),a("div",{staticClass:"form-group col-md-6 col-12"},[a("label",{attrs:{for:"sales_type"}},[t._v("Contrat de maintenance")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.customer.maintenance_type,expression:"customer.maintenance_type"}],staticClass:"custom-select",attrs:{disabled:t.choosenCustomer.maintenance_type},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.customer,"maintenance_type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"option1",checked:"option1"==t.customer.sales_type}},[t._v("Option 1")]),a("option",{attrs:{value:"option2",checked:"option2"==t.customer.sales_type}},[t._v("Option 2")])])])])])]),a("div",{staticClass:"card-body border-top"},[a("h4",{staticClass:"mb-0"},[t._v("Paramètres de connexion")]),a("p",[t._v(" Ces identifiants doivent être sauvegardés quelque part. Vous ne pourrez pas les retrouver. ")]),a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{staticClass:"col-form-label",attrs:{for:"company"}},[t._v("Utilisateur")]),a("div",{staticClass:"input-group input-group-sm mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("font-awesome-icon",{attrs:{icon:"user"}})],1)]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}})])]),a("div",{staticClass:"form-group col"},[a("label",{staticClass:"col-form-label",attrs:{for:"company"}},[t._v("Mot de passe")]),a("div",{staticClass:"input-group input-group-sm mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("font-awesome-icon",{attrs:{icon:"lock"}})],1)]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})])])])])]),a("div",{staticClass:"card-body border-top"},[a("h4",{staticClass:"mb-0"},[t._v("Paramètres du terminal")]),a("p",[t._v(" Différents paramètres permettant d'identifier clairement le terminal. ")]),a("form",[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-form-label",attrs:{for:"company"}},[t._v("Nom du terminal")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.terminal.name,expression:"terminal.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.terminal.name},on:{input:function(e){e.target.composing||t.$set(t.terminal,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-form-label",attrs:{for:"company"}},[t._v("Localisation du terminal")]),a("div",{staticClass:"input-group input-group-sm mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("font-awesome-icon",{attrs:{icon:"map-pin"}})],1)]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.terminal.location,expression:"terminal.location"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.terminal.location},on:{input:function(e){e.target.composing||t.$set(t.terminal,"location",e.target.value)}}})])])])]),a("div",{staticClass:"card-body border-top"},[a("h4",{staticClass:"mb-0"},[t._v("Campagnes & jeux")]),a("p",[t._v(" Sélectionnez les campagnes et les jeux actifs sur ce terminal. ")]),a("form",[a("div",{staticClass:"row"},[t.campaigns?a("div",{staticClass:"col"},[a("label",{attrs:{for:"campaign"}},[t._v("Campagnes actives : "),a("span",{class:[t.terminal.campaigns.length>t.maxCampaigns||0==t.terminal.campaigns.length?"text-danger":"","font-weight-bold"]},[t._v("("+t._s(t.terminal.campaigns.length)+"/"+t._s(t.maxCampaigns)+")")])]),a("div",{staticClass:"row form-group"},t._l(t.campaigns,(function(e){return a("label",{key:e.id,class:[t.campaignExists(e.id)?"checked":"","card-checkbox","col-3","py-2","mx-2"],attrs:{for:e.id},on:{click:function(a){return a.preventDefault(),t.selectCampaign(e)}}},[a("input",{attrs:{type:"radio"},domProps:{value:e.id}}),a("span",{class:["selected","d-flex","align-items-center","justify-content-center"]},[a("font-awesome-icon",{attrs:{icon:"check"}})],1),a("span",{staticClass:"checkbox-icon"},[a("img",{attrs:{src:e.logo,height:"70",alt:e.name}})]),a("h5",{staticClass:"mt-2"},[t._v(t._s(e.name))]),a("p",{staticClass:"lead"},[t._v(" "+t._s(e.collected)+"/"+t._s(e.goal_amount)+" € ")])])})),0)]):t._e()]),a("div",{staticClass:"row"},[t.games?a("div",{staticClass:"col"},[a("label",{attrs:{for:"game"}},[t._v("Jeux actifs : "),a("span",{class:[t.terminal.games.length>t.maxGames||0==t.terminal.games.length?"text-danger":"","font-weight-bold"]},[t._v("("+t._s(t.terminal.games.length)+"/"+t._s(t.maxGames)+")")])]),a("div",{staticClass:"row form-group"},t._l(t.games,(function(e){return a("label",{key:e.id,class:[t.gameExists(e.id)?"checked":"","card-checkbox","col-3","py-3","mx-2"],attrs:{for:e.id},on:{click:function(a){return a.preventDefault(),t.selectGame(e)}}},[a("input",{attrs:{type:"radio"},domProps:{value:e.id}}),a("span",{class:["selected","d-flex","align-items-center","justify-content-center"]},[a("font-awesome-icon",{attrs:{icon:"check"}})],1),a("span",{staticClass:"checkbox-icon"},[a("img",{attrs:{src:e.logo,height:"70",alt:e.name}})]),a("h4",{staticClass:"mt-2"},[t._v(t._s(e.name))])])})),0)]):t._e()])])]),a("div",{staticClass:"card-body text-center"},[a("button",{staticClass:"btn btn-success",on:{click:function(e){return e.preventDefault(),t.addTerminal(e)}}},[t._v(" Enregistrer le terminal ")])])])])]):a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[t._v("Ajouter un terminal")]),a("div",{staticClass:"card-body"},[a("h4",{staticClass:"mb-0"},[t._v("Choisir un client")]),a("p",{},[t._v(" Veuillez choisir à qui vous voulez attribuer ce nouveau terminal. Vous pouvez également créer un nouveau client. ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.choosenCustomer,expression:"choosenCustomer"}],staticClass:"custom-select mb-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.choosenCustomer=e.target.multiple?a:a[0]}}},t._l(t.customers,(function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e.company)+" - "+t._s(e.representative))])})),0),a("button",{staticClass:"btn btn-primary w-100",on:{click:function(e){return e.preventDefault(),t.continueWithCustomer(e)}}},[t._v(" Choisir un client existant ")]),t._m(1),a("button",{staticClass:"btn btn-success w-100",on:{click:function(e){return e.preventDefault(),t.continueWithoutCustomer(e)}}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"plus"}}),t._v(" Créer un nouveau client ")],1)])])])])],1)])},ot=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-between"},[a("h2",{staticClass:"pageheader-title"},[t._v("Terminaux")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hr-text my-4 text-center"},[a("span",{staticClass:"lead"},[t._v("- ou -")])])}],lt={name:"AddTerminal",data:function(){return{choosenCustomer:{},customer:{},user:{},terminal:{campaigns:[],games:[]},formVisible:!1,customers:{},campaigns:{},games:{},maxGames:this.$store.state.maxGames,maxCampaigns:this.$store.state.maxCampaigns,errors:{visible:!1,type:"danger",message:""}}},mounted:function(){this.getCustomers(),this.getCampaigns(),this.getGames()},methods:{getCustomers:function(){var t=this;this.$http.get("customer/").then((function(e){t.customers=e.data})).catch((function(){t.errors={visible:!0,type:"danger",message:"Impossible de charger la liste des clients."}}))},getGames:function(){var t=this;this.$http.get("game/").then((function(e){t.games=e.data})).catch((function(){t.errors={visible:!0,type:"danger",message:"Impossible de charger la liste des jeux."}}))},getCampaigns:function(){var t=this;this.$http.get("campaign/").then((function(e){t.campaigns=e.data})).catch((function(){t.errors={visible:!0,type:"danger",message:"Impossible de charger la liste des campagnes."}}))},campaignExists:function(t){for(var e=0;e<this.terminal.campaigns.length;e++)if(this.terminal.campaigns[e]==t)return!0;return!1},selectCampaign:function(t){if(this.campaignExists(t.id))for(var e=0;e<this.terminal.campaigns.length;e++){var a=this.terminal.campaigns[e];a==t.id&&this.$delete(this.terminal.campaigns,e)}else this.terminal.campaigns.length<=this.maxCampaigns&&this.terminal.campaigns.push(t.id)},gameExists:function(t){for(var e=0;e<this.terminal.games.length;e++)if(this.terminal.games[e]==t)return!0;return!1},selectGame:function(t){if(this.gameExists(t.id))for(var e=0;e<this.terminal.games.length;e++){var a=this.terminal.games[e];a==t.id&&this.$delete(this.terminal.games,e)}else this.terminal.games.length<=this.maxGames&&this.terminal.games.push(t.id)},continueWithCustomer:function(){this.choosenCustomer&&(this.formVisible=!0,this.customer=this.choosenCustomer)},continueWithoutCustomer:function(){this.choosenCustomer="",this.customer={},this.formVisible=!0},goBack:function(){this.choosenCustomer="",this.customer={},this.formVisible=!1},addTerminal:function(){var t=this;this.choosenCustomer.id&&this.customer.id?(this.user.customer=this.customer.id,this.$http.post("user/",this.user).then((function(e){e?(t.user=e.data,t.terminal.owner=t.user.id,t.$http.post("terminal/",t.terminal).then((function(e){t.terminal=e.data,t.$router.push("/terminals")})).catch((function(){t.errors={visible:!0,type:"danger",message:"Erreur dans l'enregistrement du terminal."}}))):t.errors={visible:!0,type:"danger",message:"Impossible d'enregistrer cet utilisateur, vérifier l'username et le mot de passe."}})).catch((function(e){t.errors={visible:!0,type:"danger",message:e},console.log(e)}))):this.customer&&this.user&&this.terminal&&this.$http.post("customer/",this.customer).then((function(e){t.customer=e.data,t.user.customer=t.customer.id,t.$http.post("user/",t.user).then((function(e){t.user=e.data,t.terminal.owner=t.user.id,t.$http.post("terminal/",t.terminal).then((function(e){t.terminal=e.data,t.$router.push({name:"terminals"})})).catch((function(){t.errors={visible:!0,type:"danger",message:"Erreur dans l'enregistrement du terminal."}}))})).catch((function(){t.errors={visible:!0,type:"danger",message:"Erreur dans l'enregistrement de l'utilisateur."}}))})).catch((function(){t.errors={visible:!0,type:"danger",message:"Erreur dans l'enregistrement du client."}}))}}},ct=lt,mt=Object(m["a"])(ct,nt,ot,!1,null,null,null),dt=mt.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-ecommerce"},[a("div",{staticClass:"container-fluid dashboard-content "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"page-header"},[t._m(0),a("div",{staticClass:"page-breadcrumb"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb d-flex align-items-center"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/home"}},[t._v("Dashboard")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/terminals"}},[t._v("Terminaux")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item",attrs:{"aria-current":"page"}},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/terminal/"+t.terminal.id}},[t._v(t._s(t.terminal.name))])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" Modifier ")])],1)])])])])]),t.errors.visible?a("Alert",{attrs:{type:t.errors.type,message:t.errors.message},on:{dismiss:function(e){t.errors.visible=!1}}}):t._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"card"},[t._m(1),t.terminal.owner?a("div",{staticClass:"card-body"},[a("h4",[t._v("Informations sur le terminal")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-group w-100"},[a("label",{attrs:{for:"name"}},[t._v("Nom du terminal")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.terminal.name,expression:"terminal.name"}],staticClass:"form-control",attrs:{type:"text","aria-describedby":"nameHelp"},domProps:{value:t.terminal.name},on:{input:function(e){e.target.composing||t.$set(t.terminal,"name",e.target.value)}}}),a("small",{staticClass:"form-text text-muted",attrs:{id:"nameHelp"}},[t._v("Donnez un nom cohérent au terminal.")])])]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-group w-100"},[a("label",{attrs:{for:"owner"}},[t._v("Client")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.terminal.owner.customer.company,expression:"terminal.owner.customer.company"}],staticClass:"form-control",attrs:{type:"text",disabled:"","aria-describedby":"ownerHelp"},domProps:{value:t.terminal.owner.customer.company},on:{input:function(e){e.target.composing||t.$set(t.terminal.owner.customer,"company",e.target.value)}}}),a("small",{staticClass:"form-text text-muted",attrs:{id:"nameHelp"}},[t._v("Le client rattaché au terminal.")])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-group w-100"},[a("label",{attrs:{for:"owner"}},[t._v("Username")]),a("div",{staticClass:"input-group input-group-sm mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("font-awesome-icon",{attrs:{icon:"user"}})],1)]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.terminal.owner.username,expression:"terminal.owner.username"}],staticClass:"form-control",attrs:{type:"text",disabled:"","aria-describedby":"ownerHelp"},domProps:{value:t.terminal.owner.username},on:{input:function(e){e.target.composing||t.$set(t.terminal.owner,"username",e.target.value)}}})]),a("small",{staticClass:"form-text text-muted",attrs:{id:"nameHelp"}},[t._v("Le username attribué au terminal.")])])]),t._m(2)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"location"}},[t._v("Localisation")]),a("div",{staticClass:"input-group input-group-sm mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("font-awesome-icon",{attrs:{icon:"map-pin"}})],1)]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.terminal.location,expression:"terminal.location"}],staticClass:"form-control",attrs:{type:"text","aria-describedby":"helpId",placeholder:"Adresse ou coordonnées de la borne"},domProps:{value:t.terminal.location},on:{input:function(e){e.target.composing||t.$set(t.terminal,"location",e.target.value)}}})]),a("small",{staticClass:"form-text text-muted",attrs:{id:"helpId"}},[t._v("Localisation de la borne.")])])])])]):t._e(),a("div",{staticClass:"card-body border-top"},[a("h4",[t._v("Campagnes & jeux")]),a("div",{staticClass:"row"},[t.terminal.campaigns?a("div",{staticClass:"col"},[a("label",{attrs:{for:"campaign"}},[t._v("Campagnes actives : "),a("span",{class:[t.terminal.campaigns.length>t.maxCampaigns||0==t.terminal.campaigns.length?"text-danger":"","font-weight-bold"]},[t._v("("+t._s(t.terminal.campaigns.length)+"/"+t._s(t.maxCampaigns)+")")])]),a("div",{staticClass:"row form-group"},t._l(t.campaigns,(function(e){return a("label",{key:e.id,class:[t.campaignExists(e.id)?"checked":"","card-checkbox","col-3","py-2","mx-2"],attrs:{for:e.id},on:{click:function(a){return a.preventDefault(),t.selectCampaign(e)}}},[a("input",{attrs:{type:"radio"},domProps:{value:e.id}}),a("span",{class:["selected","d-flex","align-items-center","justify-content-center"]},[a("font-awesome-icon",{attrs:{icon:"check"}})],1),a("span",{staticClass:"checkbox-icon"},[a("img",{attrs:{src:e.logo,height:"70",alt:e.name}})]),a("h5",{staticClass:"mt-2"},[t._v(t._s(e.name))]),a("p",{staticClass:"lead"},[t._v(" "+t._s(e.collected)+"/"+t._s(e.goal_amount)+" € ")])])})),0)]):t._e()]),a("div",{staticClass:"row"},[t.terminal.games?a("div",{staticClass:"col"},[a("label",{attrs:{for:"game"}},[t._v("Jeux actifs : "),a("span",{class:[t.terminal.games.length>t.maxGames||0==t.terminal.games.length?"text-danger":"","font-weight-bold"]},[t._v("("+t._s(t.terminal.games.length)+"/"+t._s(t.maxGames)+")")])]),a("div",{staticClass:"row form-group"},t._l(t.games,(function(e){return a("label",{key:e.id,class:[t.gameExists(e.id)?"checked":"","card-checkbox","col-3","py-3","mx-2"],attrs:{for:e.id},on:{click:function(a){return a.preventDefault(),t.selectGame(e)}}},[a("input",{attrs:{type:"radio"},domProps:{value:e.id}}),a("span",{class:["selected","d-flex","align-items-center","justify-content-center"]},[a("font-awesome-icon",{attrs:{icon:"check"}})],1),a("span",{staticClass:"checkbox-icon"},[a("img",{attrs:{src:e.logo,height:"70",alt:e.name}})]),a("h4",{staticClass:"mt-2"},[t._v(t._s(e.name))])])})),0)]):t._e()])]),a("div",{staticClass:"card-body text-center"},[a("button",{staticClass:"btn btn-success",on:{click:function(e){return e.preventDefault(),t.edit(e)}}},[t._v(" Modifier le terminal ")])])])])])],1)])},pt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-between"},[a("h2",{staticClass:"pageheader-title"},[t._v("Terminaux")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header d-flex align-items-center justify-content-between"},[a("h5",{staticClass:"mb-0"},[t._v("Ajouter un terminal")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-group w-100"},[a("label",{attrs:{for:"owner"}},[t._v("Password")]),a("small",{staticClass:"form-text text-muted",attrs:{id:"nameHelp"}},[t._v("Par définition, il n'est pas possible de changer ou de retrouver le mot de passe. En cas de problèmes, il faut recréer un terminal. ")])])])}],vt=(a("a4d3"),a("4de4"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("ade3"));function gt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function ft(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(a),!0).forEach((function(e){Object(vt["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):gt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var ht={name:"EditTerminal",data:function(){return{terminal:"",campaigns:{},games:{},user:{},customer:{},maxGames:this.$store.state.maxGames,maxCampaigns:this.$store.state.maxCampaigns,errors:{visible:!1,type:"danger",message:""}}},mounted:function(){this.getTerminal(),this.getCampaigns(),this.getGames()},methods:{getGames:function(){var t=this;this.$http.get("game/").then((function(e){t.games=e.data})).catch((function(t){console.log(t.response)}))},getCampaigns:function(){var t=this;this.$http.get("campaign/").then((function(e){t.campaigns=e.data})).catch((function(t){console.log(t.response)}))},getTerminal:function(){var t=this;this.$http.get("terminal/"+this.$route.params.id+"/").then((function(e){t.terminal=e.data})).catch((function(t){console.log(t.response)}))},campaignExists:function(t){for(var e=0;e<this.terminal.campaigns.length;e++)if(this.terminal.campaigns[e].id==t)return!0;return!1},selectCampaign:function(t){if(this.campaignExists(t.id))for(var e=0;e<this.terminal.campaigns.length;e++){var a=this.terminal.campaigns[e];a.id==t.id&&this.$delete(this.terminal.campaigns,e)}else this.terminal.campaigns.length<this.maxCampaigns&&this.terminal.campaigns.push(t)},gameExists:function(t){for(var e=0;e<this.terminal.games.length;e++)if(this.terminal.games[e].id==t)return!0;return!1},selectGame:function(t){if(this.gameExists(t.id))for(var e=0;e<this.terminal.games.length;e++){var a=this.terminal.games[e];a.id==t.id&&this.$delete(this.terminal.games,e)}else this.terminal.games.length<this.maxGames&&this.terminal.games.push(t)},edit:function(){var t=this;if(this.terminal){var e=ft({},this.terminal);delete e.payments,delete e.avg_gametimesession,delete e.avg_timesession,delete e.avg_donation,delete e.total_donations,e.owner=e.owner.id;for(var a=[],s=0;s<e.games.length;s++){var i=e.games[s].id;a.push(i)}e.games=a;for(var r=[],n=0;n<e.campaigns.length;n++){var o=e.campaigns[n].id;r.push(o)}e.campaigns=r,this.$http.put("terminal/"+e.id+"/",e).then((function(){t.getTerminal(),t.errors={visible:!0,type:"success",message:"Modification réussie."}})).catch((function(e){t.errors={visible:!0,type:"danger",message:e}}))}}}},bt=ht,Ct=Object(m["a"])(bt,ut,pt,!1,null,null,null),_t=Ct.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-ecommerce"},[a("div",{staticClass:"container-fluid dashboard-content "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"d-flex justify-content-between"},[a("h2",{staticClass:"pageheader-title"},[t._v("Campagnes")]),a("router-link",{staticClass:"btn btn-primary mb-1",attrs:{to:{name:"addCampaign"}}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"plus"}}),t._v("Ajouter une campagne")],1)],1),a("div",{staticClass:"page-breadcrumb"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb d-flex align-items-center"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/home"}},[t._v("Dashboard")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/campaigns"}},[t._v("Campagnes")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" Toutes les campagnes ")])],1)])])])])]),t.errors.visible?a("Alert",{attrs:{type:t.errors.type,message:t.errors.message},on:{dismiss:function(e){t.errors.visible=!1}}}):t._e(),a("div",{staticClass:"ecommerce-widget"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[t._v("Campagnes")]),a("div",{staticClass:"card-body p-0"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.campaigns,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.id))]),a("td",[a("span",{staticClass:"text-success"},[a("img",{attrs:{src:e.logo,height:"30",alt:e.name}})])]),a("td",[t._v(" "+t._s(e.name)+" ")]),a("td",[t._v(t._s(t.stripCharacters(e.description)))]),a("td",[t._v(" "+t._s(e.collected)+"/"+t._s(e.goal_amount)+" € ")]),a("td",[t._v(" "+t._s(e.nb_terminals)+" termina"),e.nb_terminals>1?a("span",[t._v("ux")]):a("span",[t._v("l")])]),a("td",[a("router-link",{staticClass:"text-dark",attrs:{to:"/campaigns/"+e.id}},[a("font-awesome-icon",{attrs:{icon:"eye"}})],1)],1),a("td",[a("router-link",{staticClass:"text-primary",attrs:{to:"/campaign/"+e.id+"/edit"}},[a("font-awesome-icon",{attrs:{icon:"pen"}})],1)],1),a("td",[a("a",{staticClass:"text-danger",attrs:{href:""},on:{click:function(a){return a.preventDefault(),t.deleteCampaign(e.id)}}},[a("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)])])})),0)])])])])])])])],1)])},yt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"bg-light"},[a("tr",{staticClass:"border-0"},[a("th",{staticClass:"border-0"},[t._v("#")]),a("th",{staticClass:"border-0"},[t._v("Logo")]),a("th",{staticClass:"border-0"},[t._v("Nom")]),a("th",{staticClass:"border-0"},[t._v("Description")]),a("th",{staticClass:"border-0"},[t._v("Dons collectés")]),a("th",{staticClass:"border-0"},[t._v("Terminaux associés")]),a("th",{staticClass:"border-0"}),a("th",{staticClass:"border-0"})])])}],wt={name:"AllCampaigns",data:function(){return{campaigns:{},errors:{visible:!1,type:"danger",message:""}}},mounted:function(){this.getCampaigns()},methods:{stripCharacters:function(t){return t.length>70?t.substring(0,70)+"..":t},showDetail:function(t){this.$router.push({name:"campaign",params:{id:t}})},editCampaign:function(t){this.$router.push({name:"edit-campaign",params:{id:t}})},deleteCampaign:function(t){var e=this;this.$http.delete("/campaign/"+t+"/").then((function(){e.getCampaigns()}))},getCampaigns:function(){var t=this;this.$http.get("campaign/").then((function(e){t.campaigns=e.data})).catch((function(){t.errors={visible:!0,type:"danger",message:"Impossible de récupérer la liste des campagnes."}}))}}},kt=wt,$t=Object(m["a"])(kt,xt,yt,!1,null,null,null),jt=$t.exports,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-ecommerce"},[a("div",{staticClass:"container-fluid dashboard-content "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"page-header"},[a("h2",{staticClass:"pageheader-title"},[t._v("Campagnes")]),a("div",{staticClass:"page-breadcrumb"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb d-flex align-items-center"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/"}},[t._v("Dashboard")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/campaigns"}},[t._v("Campagnes")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.campaign.name)+" ")])],1)])])])])]),t.errors.visible?a("Alert",{attrs:{type:t.errors.type,message:t.errors.message},on:{dismiss:function(e){t.errors.visible=!1}}}):t._e(),t.campaign.name?a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3 col-lg-3 col-md-5 col-sm-12 col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"user-avatar text-center d-block"},[a("img",{staticStyle:{width:"100%","object-fit":"contain"},attrs:{src:t.campaign.logo,alt:t.campaign.name,height:"100"}})]),a("div",{staticClass:"text-center"},[a("h2",{staticClass:"font-24 mb-0"},[t._v(t._s(t.campaign.name))]),a("p",[a("a",{attrs:{href:t.campaign.link}},[t._v(t._s(t.campaign.link))])])]),a("div",{staticClass:"text-center"},[t.campaign.is_archived?a("span",{staticClass:"text-danger"},[t._v("Archivé")]):t._e()])]),a("div",{staticClass:"card-body border-top"},[a("h3",{staticClass:"font-16"},[t._v("Informations de contact")]),a("div",{},[a("ul",{staticClass:"list-unstyled mb-0"},[a("li",{staticClass:"mb-2"},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"wallet"}}),t._v(" Objectif de collecte : "+t._s(t.campaign.goal_amount)+" € ")],1),a("li",{staticClass:"mb-0"},[a("p",[t._v(t._s(t.campaign.description))])])])])])])]),a("div",{staticClass:"col-xl-9 col-lg-9 col-md-7 col-sm-12 col-12"},[a("div",{staticClass:"influence-profile-content pills-regular"},[a("ul",{staticClass:"nav nav-pills mb-3 nav-justified",attrs:{id:"pills-tab",role:"tablist"}},[t._m(0),t._m(1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link text-warning",attrs:{to:"/campaign/"+t.campaign.id+"/edit",id:"pills-review-tab"}},[t._v("Editer")])],1),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link text-danger",attrs:{href:"",id:"pills-review-tab"},on:{click:function(e){return e.preventDefault(),t.deleteCampaign(t.campaign.id)}}},[t._v("Archiver")])])]),a("div",{staticClass:"tab-content",attrs:{id:"pills-tabContent"}},[a("div",{staticClass:"tab-pane fade show active",attrs:{id:"pills-stats",role:"tabpanel","aria-labelledby":"pills-stats-tab"}},[a("div",{staticClass:"row"},[t._m(2),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-6 col-sm-12 col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("span",{staticClass:"d-flex align-items-end mb-1"},[a("h1",{staticClass:"mb-0"},[t._v(" "+t._s(t.campaign.nb_terminals)+" ")]),a("p",{staticClass:"mb-1 ml-1"},[t._v(" termina"),t.campaign.nb_terminals>1?a("span",[t._v("l")]):a("span",[t._v("ux")])])]),a("p",[t._v("Actifs dans")])])])]),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-6 col-sm-12 col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("h1",{staticClass:"mb-1"},[t._v(t._s(t.campaign.collected)+" €")]),a("p",[t._v("Totals dons")])])])]),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-6 col-sm-12 col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[t.campaign.total_today?a("h1",{staticClass:"mb-1"},[t._v(" "+t._s(t.campaign.total_today.toFixed(2))+" € ")]):a("h1",{staticClass:"mb-1"},[t._v("0 €")]),a("p",[t._v("Dons aujourd'hui")])])])]),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-6 col-sm-12 col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[t.campaign.avg_donation?a("h1",{staticClass:"mb-1"},[t._v(" "+t._s(t.campaign.avg_donation.toFixed(2))+" € ")]):a("h1",{staticClass:"mb-1"},[t._v("0 €")]),a("p",[t._v("Don moyen")])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[t._m(3),a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[t._v("Dons")]),a("div",{staticClass:"card-body p-0"},[a("div",{staticClass:"dataTables_wrapper dt-bootstrap4"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table"},[t._m(4),a("tbody",t._l(t.displayedPayments,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.id))]),a("td",["Accepted"==e.status?a("span",{staticClass:"text-success"},[t._v(t._s(e.status))]):a("span",{staticClass:"text-danger"},[t._v(t._s(e.status))])]),a("td",[t._v("N° "+t._s(e.donator))]),a("td",[t._v(t._s(e.amount)+" €")]),a("td",[a("router-link",{attrs:{to:"/"}},[a("img",{staticClass:"mr-2 campaign-logo-grayed",attrs:{src:e.game.logo,width:"20",alt:e.game.name}}),t._v(t._s(e.game.name))])],1)])})),0)])]),a("div",{staticClass:"d-flex align-items-center justify-content-between my-2"},[a("div",{staticClass:"col-sm-12 col-md-5"},[a("div",{staticClass:"dataTables_info",attrs:{id:"DataTables_Table_0_info",role:"status","aria-live":"polite"}},[t._v(" Afficher 1 à "+t._s(t.perPage)+" de "+t._s(t.allPayments.length)+" entrées ")])]),a("div",{staticClass:"col-sm-12 col-md-7 d-flex justify-content-end"},[a("nav",{staticClass:"w-100",attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination w-100  d-flex justify-content-end"},[a("li",{staticClass:"page-item"},[1!=t.page?a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.page--}}},[t._v("Previous")]):t._e()]),t._l(t.pages.slice(t.page-1,t.page+5),(function(e){return a("li",{key:e,staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.page=e}}},[t._v(t._s(e))])])})),a("li",{staticClass:"page-item"},[t.page<t.pages.length?a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.page++}}},[t._v("Next")]):t._e()])],2)])])])])])])]),a("div",{staticClass:"col-6"},[t._m(5),a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[t._v("Lien YouTube")]),a("div",{staticClass:"card-body p-0"},[a("youtube",{staticClass:"w-100",attrs:{"video-id":t.campaign.video}})],1)])])])]),a("div",{staticClass:"tab-pane fade",attrs:{id:"pills-actions",role:"tabpanel","aria-labelledby":"pills-actions-tab"}},[a("div",{staticClass:"row"},[t._m(6),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-6 col-sm-12 col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("span",{staticClass:"mb-1"},[a("img",{staticClass:"w-100 border",staticStyle:{height:"150px","object-fit":"contain"},attrs:{src:t.campaign.photo1,alt:t.campaign.text1}})]),a("h1",{staticClass:"mt-1 mb-0 text-center"},[t._v("1 €")]),a("p",{staticClass:"mt-1"},[t._v(t._s(t.campaign.text1))])])])]),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-6 col-sm-12 col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("span",[a("img",{staticClass:"w-100 border",staticStyle:{height:"150px","object-fit":"contain"},attrs:{src:t.campaign.photo5,alt:t.campaign.text5}})]),a("h1",{staticClass:"mt-1 mb-0 text-center"},[t._v("5 €")]),a("p",[t._v(t._s(t.campaign.text5))])])])]),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-6 col-sm-12 col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("span",[a("img",{staticClass:"w-100 border",staticStyle:{height:"150px","object-fit":"contain"},attrs:{src:t.campaign.photo10,alt:t.campaign.text10}})]),a("h1",{staticClass:"mt-1 mb-0 text-center"},[t._v("10 €")]),a("p",[t._v(t._s(t.campaign.text10))])])])]),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-6 col-sm-12 col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("span",[a("img",{staticClass:"w-100 border",staticStyle:{height:"150px","object-fit":"contain"},attrs:{src:t.campaign.photo20,alt:t.campaign.text20}})]),a("h1",{staticClass:"mt-1 mb-0 text-center"},[t._v("20 €")]),a("p",[t._v(t._s(t.campaign.text20))])])])]),a("div",{staticClass:"col-xl-3 col-lg-3 col-md-6 col-sm-12 col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("span",[a("img",{staticClass:"w-100 border",staticStyle:{height:"150px","object-fit":"contain"},attrs:{src:t.campaign.photo30,alt:t.campaign.text30}})]),a("h1",{staticClass:"mt-1 mb-0 text-center"},[t._v("30 €")]),a("p",[t._v(t._s(t.campaign.text30))])])])])])])])])])]):t._e()],1)])},Et=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link active",attrs:{id:"pills-stats-tab","data-toggle":"pill",href:"#pills-stats",role:"tab","aria-controls":"pills-stats","aria-selected":"true"}},[t._v("Statistiques")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{id:"pills-actions-tab","data-toggle":"pill",href:"#pills-actions",role:"tab","aria-controls":"pills-actions","aria-selected":"true"}},[t._v("Actions associatives")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"section-block"},[a("h3",{staticClass:"section-title"},[t._v("Statistiques générales")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section-block"},[a("h3",{staticClass:"section-title"},[t._v("Derniers dons")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"bg-light"},[a("tr",{staticClass:"border-0"},[a("th",{staticClass:"border-0"},[t._v("#")]),a("th",{staticClass:"border-0"},[t._v("Status")]),a("th",{staticClass:"border-0"},[t._v("Donateur")]),a("th",{staticClass:"border-0"},[t._v("Montant")]),a("th",{staticClass:"border-0"},[t._v("Jeu")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section-block"},[a("h3",{staticClass:"section-title"},[t._v("Vidéo d'association")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"section-block"},[a("h3",{staticClass:"section-title"},[t._v("Actions associatives")])])])}],Pt={name:"ShowTerminal",data:function(){return{campaign:{},errors:{visible:!1,type:"danger",message:""},page:1,perPage:9,pages:[]}},watch:{allPayments:function(){this.setPages()}},computed:{allPayments:function(){return this.campaign.last_donations},displayedPayments:function(){return this.paginate(this.allPayments)}},mounted:function(){this.getCampaign()},methods:{deleteCampaign:function(t){var e=this;this.$http.delete("/campaign/"+t+"/").then((function(){e.$router.push("/campaigns")}))},getCampaign:function(){var t=this;this.$http.get("campaign/"+this.$route.params.id+"/").then((function(e){t.campaign=e.data})).catch((function(t){console.log(t.response)}))},setPages:function(){for(var t=Math.ceil(this.allPayments.length/this.perPage),e=1;e<=t;e++)this.pages.push(e)},paginate:function(t){var e=this.page,a=this.perPage,s=e*a-a,i=e*a;return t.slice(s,i)}}},Dt=Pt,Tt=Object(m["a"])(Dt,At,Et,!1,null,null,null),St=Tt.exports,Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-ecommerce"},[a("div",{staticClass:"container-fluid dashboard-content "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"page-header"},[t._m(0),a("div",{staticClass:"page-breadcrumb"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb d-flex align-items-center"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/home"}},[t._v("Dashboard")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/campaigns"}},[t._v("Campagnes")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" Ajouter une campagne ")])],1)])])])])]),t.errors.visible?a("Alert",{attrs:{type:t.errors.type,message:t.errors.message},on:{dismiss:function(e){t.errors.visible=!1}}}):t._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"card"},[t._m(1),a("div",{staticClass:"card-body"},[a("h4",{staticClass:"mb-0"},[t._v("Informations générales")]),a("p",[t._v("Les informations générales de la nouvelle campagne.")]),a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-9"},[a("label",{attrs:{for:"name"}},[t._v("Nom de la campagne")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.campaign.name,expression:"campaign.name"}],staticClass:"form-control",attrs:{type:"text","aria-describedby":"nameHelp"},domProps:{value:t.campaign.name},on:{input:function(e){e.target.composing||t.$set(t.campaign,"name",e.target.value)}}}),a("small",{staticClass:"form-text text-muted",attrs:{id:"nameHelp"}},[t._v("Donnez un nom cohérent à la campagne.")])]),a("div",{staticClass:"form-group col-3"},[a("label",{attrs:{for:"name"}},[t._v("Objectif de collecte")]),a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[a("font-awesome-icon",{attrs:{icon:"euro-sign"}})],1)]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.campaign.goal_amount,expression:"campaign.goal_amount"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.campaign.goal_amount},on:{input:function(e){e.target.composing||t.$set(t.campaign,"goal_amount",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"name"}},[t._v("Lien vers l'association")]),a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[a("font-awesome-icon",{attrs:{icon:"link"}})],1)]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.campaign.link,expression:"campaign.link"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.campaign.link},on:{input:function(e){e.target.composing||t.$set(t.campaign,"link",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"description"}},[t._v("Description")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.campaign.description,expression:"campaign.description"}],staticClass:"form-control",attrs:{"aria-describedby":"descHelp"},domProps:{value:t.campaign.description},on:{input:function(e){e.target.composing||t.$set(t.campaign,"description",e.target.value)}}}),a("small",{staticClass:"form-text text-muted",attrs:{id:"descHelp"}},[t._v("Une courte description de la mission de l'association.")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"name"}},[t._v("ID de la vidéo Youtube")]),a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[a("font-awesome-icon",{attrs:{icon:"video"}})],1)]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.campaign.video,expression:"campaign.video"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.campaign.video},on:{input:function(e){e.target.composing||t.$set(t.campaign,"video",e.target.value)}}})])])])])]),a("div",{staticClass:"card-body border-top"},[a("h4",{staticClass:"mb-0"},[t._v("Médias")]),a("p",[t._v(" Il est important de compresser les images au maximum avant de les uploader. ")]),a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"logo"}},[t._v("Logo")]),a("input",{ref:"logo",staticClass:"form-control-file",attrs:{type:"file","aria-describedby":"fileHelpId",name:"logo"}}),a("small",{staticClass:"form-text text-muted",attrs:{id:"fileHelpId"}},[t._v("Logo PNG, JPEG ou SVG permettant d'identifier clairement l'association.")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"actions"}},[t._v("Montants de donations")]),a("div",{staticClass:"d-flex justify-content-between"},[a("div",{staticClass:"col d-flex flex-column align-items-center card py-3 mr-2"},[a("h3",[t._v("1€")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.campaign.text1,expression:"campaign.text1"}],ref:"text1",staticClass:"mb-2 w-100",staticStyle:{"font-size":"12px"},attrs:{id:"text1",name:"text1",rows:"4"},domProps:{value:t.campaign.text1},on:{input:function(e){e.target.composing||t.$set(t.campaign,"text1",e.target.value)}}}),a("div",{staticClass:"upload-btn-wrapper"},[a("button",{ref:"text-photo1",staticClass:"btn btn-outline-danger btn-sm"},[t._v(" Ajouter une photo ")]),a("input",{ref:"photo1",attrs:{type:"file",id:"photo1",name:"photo1",required:"required"},on:{change:t.handleFileChange}})])]),a("div",{staticClass:"col d-flex flex-column align-items-center card py-3 mr-2"},[a("h3",[t._v("5€")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.campaign.text5,expression:"campaign.text5"}],ref:"action-photo5",staticClass:"mb-2 w-100",staticStyle:{"font-size":"12px"},attrs:{id:"text5",name:"text5",rows:"4"},domProps:{value:t.campaign.text5},on:{input:function(e){e.target.composing||t.$set(t.campaign,"text5",e.target.value)}}}),a("div",{staticClass:"upload-btn-wrapper"},[a("button",{ref:"text-photo5",staticClass:"btn btn-outline-danger btn-sm"},[t._v(" Ajouter une photo ")]),a("input",{ref:"photo5",attrs:{type:"file",id:"photo5",name:"photo5",required:"required"},on:{change:t.handleFileChange}})])]),a("div",{staticClass:"col d-flex flex-column align-items-center card py-3 mr-2"},[a("h3",[t._v("10€")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.campaign.text10,expression:"campaign.text10"}],ref:"action-photo10",staticClass:"mb-2 w-100",staticStyle:{"font-size":"12px"},attrs:{id:"text10",name:"text10",rows:"4"},domProps:{value:t.campaign.text10},on:{input:function(e){e.target.composing||t.$set(t.campaign,"text10",e.target.value)}}}),a("div",{staticClass:"upload-btn-wrapper"},[a("button",{ref:"text-photo10",staticClass:"btn btn-outline-danger btn-sm"},[t._v(" Ajouter une photo ")]),a("input",{ref:"photo10",attrs:{type:"file",id:"photo10",name:"photo10",required:"required"},on:{change:t.handleFileChange}})])]),a("div",{staticClass:"col d-flex flex-column align-items-center card py-3 mr-2"},[a("h3",[t._v("20€")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.campaign.text20,expression:"campaign.text20"}],ref:"action-photo20",staticClass:"mb-2 w-100",staticStyle:{"font-size":"12px"},attrs:{id:"text20",name:"text20",rows:"4"},domProps:{value:t.campaign.text20},on:{input:function(e){e.target.composing||t.$set(t.campaign,"text20",e.target.value)}}}),a("div",{staticClass:"upload-btn-wrapper"},[a("button",{ref:"text-photo20",staticClass:"btn btn-outline-danger btn-sm"},[t._v(" Ajouter une photo ")]),a("input",{ref:"photo20",attrs:{type:"file",id:"photo20",name:"photo20",required:"required"},on:{change:t.handleFileChange}})])]),a("div",{staticClass:"col d-flex flex-column align-items-center card py-3 mr-2"},[a("h3",[t._v("30€")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.campaign.text30,expression:"campaign.text30"}],ref:"action-photo30",staticClass:"mb-2 w-100",staticStyle:{"font-size":"12px"},attrs:{id:"text30",name:"text30",rows:"4"},domProps:{value:t.campaign.text30},on:{input:function(e){e.target.composing||t.$set(t.campaign,"text30",e.target.value)}}}),a("div",{staticClass:"upload-btn-wrapper"},[a("button",{ref:"text-photo30",staticClass:"btn btn-outline-danger btn-sm"},[t._v(" Ajouter une photo ")]),a("input",{ref:"photo30",attrs:{type:"file",id:"photo30",name:"photo30",required:"required"},on:{change:t.handleFileChange}})])])])])])])]),a("div",{staticClass:"card-body text-center"},[a("button",{staticClass:"btn btn-success",on:{click:function(e){return e.preventDefault(),t.addCampaign(e)}}},[t._v(" Enregistrer la campagne ")])])])])])],1)])},Lt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-between"},[a("h2",{staticClass:"pageheader-title"},[t._v("Campagnes")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header d-flex align-items-center justify-content-between"},[a("h5",{staticClass:"mb-0"},[t._v("Ajouter une campagne")])])}],qt=(a("e01a"),a("9911"),{name:"AddCampaign",data:function(){return{campaign:{},errors:{visible:!1,type:"danger",message:""}}},mounted:function(){},methods:{handleFileChange:function(t){this.$refs["text-"+t.target.id].innerText="1 fichier sélectionné",this.$refs["text-"+t.target.id].classList.remove("btn-outline-danger"),this.$refs["text-"+t.target.id].classList.add("btn-success")},addCampaign:function(){var t=this;if(this.campaign){var e=new FormData;e.append("author",this.$store.state.user_id),e.append("name",this.campaign.name),e.append("goal_amount",this.campaign.goal_amount),e.append("link",this.campaign.link),e.append("description",this.campaign.description),e.append("video",this.campaign.video),e.append("logo",this.$refs.logo.files[0]),e.append("photo1",this.$refs.photo1.files[0]),e.append("photo5",this.$refs.photo5.files[0]),e.append("photo10",this.$refs.photo10.files[0]),e.append("photo20",this.$refs.photo20.files[0]),e.append("photo30",this.$refs.photo30.files[0]),e.append("text1",this.campaign.text1),e.append("text5",this.campaign.text5),e.append("text10",this.campaign.text10),e.append("text20",this.campaign.text20),e.append("text30",this.campaign.text30),this.$http.post("campaign/",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.campaign=e.data,t.$router.push("/campaigns")})).catch((function(){t.errors={visible:!0,type:"danger",message:"Impossible de créer une nouvelle campagne."}}))}}}}),Ot=qt,It=Object(m["a"])(Ot,Nt,Lt,!1,null,null,null),zt=It.exports,Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-ecommerce"},[a("div",{staticClass:"container-fluid dashboard-content "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"page-header"},[t._m(0),a("div",{staticClass:"page-breadcrumb"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb d-flex align-items-center"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/home"}},[t._v("Dashboard")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/campaigns"}},[t._v("Campagnes")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/campaign/"+t.campaign.id}},[t._v(t._s(t.campaign.name))])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" Modifier ")])],1)])])])])]),t.errors.visible?a("Alert",{attrs:{type:t.errors.type,message:t.errors.message},on:{dismiss:function(e){t.errors.visible=!1}}}):t._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"card"},[t._m(1),a("div",{staticClass:"card-body"},[a("h4",{staticClass:"mb-0"},[t._v("Informations générales")]),a("p",[t._v("Les informations générales de la nouvelle campagne.")]),a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-9"},[a("label",{attrs:{for:"name"}},[t._v("Nom de la campagne")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.campaign.name,expression:"campaign.name"}],staticClass:"form-control",attrs:{type:"text","aria-describedby":"nameHelp"},domProps:{value:t.campaign.name},on:{input:function(e){e.target.composing||t.$set(t.campaign,"name",e.target.value)}}}),a("small",{staticClass:"form-text text-muted",attrs:{id:"nameHelp"}},[t._v("Donnez un nom cohérent à la campagne.")])]),a("div",{staticClass:"form-group col-3"},[a("label",{attrs:{for:"name"}},[t._v("Objectif de collecte")]),a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[a("font-awesome-icon",{attrs:{icon:"euro-sign"}})],1)]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.campaign.goal_amount,expression:"campaign.goal_amount"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.campaign.goal_amount},on:{input:function(e){e.target.composing||t.$set(t.campaign,"goal_amount",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"name"}},[t._v("Lien vers l'association")]),a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[a("font-awesome-icon",{attrs:{icon:"link"}})],1)]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.campaign.link,expression:"campaign.link"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.campaign.link},on:{input:function(e){e.target.composing||t.$set(t.campaign,"link",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"description"}},[t._v("Description")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.campaign.description,expression:"campaign.description"}],staticClass:"form-control",attrs:{"aria-describedby":"descHelp"},domProps:{value:t.campaign.description},on:{input:function(e){e.target.composing||t.$set(t.campaign,"description",e.target.value)}}}),a("small",{staticClass:"form-text text-muted",attrs:{id:"descHelp"}},[t._v("Une courte description de la mission de l'association.")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"name"}},[t._v("ID de la vidéo Youtube")]),a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[a("font-awesome-icon",{attrs:{icon:"video"}})],1)]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.campaign.video,expression:"campaign.video"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.campaign.video},on:{input:function(e){e.target.composing||t.$set(t.campaign,"video",e.target.value)}}})])])])]),a("div",{staticClass:"card-body text-center"},[a("button",{staticClass:"btn btn-success",on:{click:function(e){return e.preventDefault(),t.addCampaign(e)}}},[t._v(" Enregistrer la campagne ")])])]),a("div",{staticClass:"card-body border-top"},[a("h4",{staticClass:"mb-0"},[t._v("Médias")]),a("p",[t._v(" Il est important de compresser les images au maximum avant de les uploader. ")]),a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"logo"}},[t._v("Logo")]),a("div",[a("img",{staticClass:"rounded border mx-auto my-3 d-block",staticStyle:{"object-fit":"contain"},attrs:{src:t.campaign.logo,width:"200",height:"200"}}),a("div",{staticClass:"upload-btn-wrapper w-100 text-center "},[a("button",{ref:"text-logo",staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"}},[t._v(" Ajouter une photo ")]),a("input",{ref:"logo",attrs:{type:"file",id:"logo",name:"logo",required:"required"},on:{change:t.editLogo}})])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"actions"}},[t._v("Montants de donations")]),a("div",{staticClass:"d-flex justify-content-between"},[a("div",{staticClass:"col d-flex flex-column align-items-center card py-3 mr-2"},[a("h3",[t._v("1€")]),a("img",{staticClass:"rounded my-3 mx-auto d-block",staticStyle:{"object-fit":"contain"},attrs:{src:t.campaign.photo1,width:"100",height:"100"}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.campaign.text1,expression:"campaign.text1"}],ref:"text1",staticClass:"mb-2 w-100",staticStyle:{"font-size":"12px"},attrs:{id:"text1",name:"text1",rows:"4"},domProps:{value:t.campaign.text1},on:{input:function(e){e.target.composing||t.$set(t.campaign,"text1",e.target.value)}}}),a("div",{staticClass:"upload-btn-wrapper"},[a("button",{ref:"text-photo1",staticClass:"btn btn-outline-danger btn-sm"},[t._v(" Ajouter une photo ")]),a("input",{ref:"photo1",attrs:{type:"file",id:"photo1",name:"photo1",required:"required"},on:{change:t.handleFileChange}})])]),a("div",{staticClass:"col d-flex flex-column align-items-center card py-3 mr-2"},[a("h3",[t._v("5€")]),a("img",{staticClass:"rounded my-3 mx-auto d-block",staticStyle:{"object-fit":"contain"},attrs:{src:t.campaign.photo5,width:"100",height:"100"}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.campaign.text5,expression:"campaign.text5"}],ref:"action-photo5",staticClass:"mb-2 w-100",staticStyle:{"font-size":"12px"},attrs:{id:"text5",name:"text5",rows:"4"},domProps:{value:t.campaign.text5},on:{input:function(e){e.target.composing||t.$set(t.campaign,"text5",e.target.value)}}}),a("div",{staticClass:"upload-btn-wrapper"},[a("button",{ref:"text-photo5",staticClass:"btn btn-outline-danger btn-sm"},[t._v(" Ajouter une photo ")]),a("input",{ref:"photo5",attrs:{type:"file",id:"photo5",name:"photo5",required:"required"},on:{change:t.handleFileChange}})])]),a("div",{staticClass:"col d-flex flex-column align-items-center card py-3 mr-2"},[a("h3",[t._v("10€")]),a("img",{staticClass:"rounded my-3 mx-auto d-block",staticStyle:{"object-fit":"contain"},attrs:{src:t.campaign.photo10,width:"100",height:"100"}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.campaign.text10,expression:"campaign.text10"}],ref:"action-photo10",staticClass:"mb-2 w-100",staticStyle:{"font-size":"12px"},attrs:{id:"text10",name:"text10",rows:"4"},domProps:{value:t.campaign.text10},on:{input:function(e){e.target.composing||t.$set(t.campaign,"text10",e.target.value)}}}),a("div",{staticClass:"upload-btn-wrapper"},[a("button",{ref:"text-photo10",staticClass:"btn btn-outline-danger btn-sm"},[t._v(" Ajouter une photo ")]),a("input",{ref:"photo10",attrs:{type:"file",id:"photo10",name:"photo10",required:"required"},on:{change:t.handleFileChange}})])]),a("div",{staticClass:"col d-flex flex-column align-items-center card py-3 mr-2"},[a("h3",[t._v("20€")]),a("img",{staticClass:"rounded my-3 mx-auto d-block",staticStyle:{"object-fit":"contain"},attrs:{src:t.campaign.photo20,width:"100",height:"100"}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.campaign.text20,expression:"campaign.text20"}],ref:"action-photo20",staticClass:"mb-2 w-100",staticStyle:{"font-size":"12px"},attrs:{id:"text20",name:"text20",rows:"4"},domProps:{value:t.campaign.text20},on:{input:function(e){e.target.composing||t.$set(t.campaign,"text20",e.target.value)}}}),a("div",{staticClass:"upload-btn-wrapper"},[a("button",{ref:"text-photo20",staticClass:"btn btn-outline-danger btn-sm"},[t._v(" Ajouter une photo ")]),a("input",{ref:"photo20",attrs:{type:"file",id:"photo20",name:"photo20",required:"required"},on:{change:t.handleFileChange}})])]),a("div",{staticClass:"col d-flex flex-column align-items-center card py-3 mr-2"},[a("h3",[t._v("30€")]),a("img",{staticClass:"rounded my-3 mx-auto d-block",staticStyle:{"object-fit":"contain"},attrs:{src:t.campaign.photo30,width:"100",height:"100"}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.campaign.text30,expression:"campaign.text30"}],ref:"action-photo30",staticClass:"mb-2 w-100",staticStyle:{"font-size":"12px"},attrs:{id:"text30",name:"text30",rows:"4"},domProps:{value:t.campaign.text30},on:{input:function(e){e.target.composing||t.$set(t.campaign,"text30",e.target.value)}}}),a("div",{staticClass:"upload-btn-wrapper"},[a("button",{ref:"text-photo30",staticClass:"btn btn-outline-danger btn-sm"},[t._v(" Ajouter une photo ")]),a("input",{ref:"photo30",attrs:{type:"file",id:"photo30",name:"photo30",required:"required"},on:{change:t.handleFileChange}})])])])])])])])])])])],1)])},Ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-between"},[a("h2",{staticClass:"pageheader-title"},[t._v("Campagnes")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header d-flex align-items-center justify-content-between"},[a("h5",{staticClass:"mb-0"},[t._v("Modifier une campagne")])])}],Mt={name:"EditCampaign",data:function(){return{campaign:{},errors:{visible:!1,type:"danger",message:""}}},mounted:function(){this.getCampaign()},methods:{getCampaign:function(){var t=this;this.$http.get("campaign/"+this.$route.params.id+"/").then((function(e){t.campaign=e.data})).catch((function(t){console.log(t.response)}))},handleFileChange:function(t){var e=this;this.$refs["text-"+t.target.id].innerText="Enregistrement...",this.$refs["text-"+t.target.id].classList.remove("btn-outline-warning"),this.$refs["text-"+t.target.id].classList.add("btn-success");var a=new FormData;a.append(t.target.id,this.$refs[t.target.id].files[0]),a.append(this.$refs["action-"+t.target.id].id,this.$refs["action-"+t.target.id].value),this.$http.patch("campaign/"+this.campaign.id+"/",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(a){e.campaign=a.data,e.$refs["text-"+t.target.id].classList.remove("btn-success"),e.$refs["text-"+t.target.id].classList.add("btn-outline-warning"),e.$refs["text-"+t.target.id].innerText="Modifier la photo"})).catch((function(t){console.log(t.response)}))},editLogo:function(t){var e=this;this.$refs["text-"+t.target.id].innerText="Enregistrement...",this.$refs["text-"+t.target.id].classList.remove("btn-outline-danger"),this.$refs["text-"+t.target.id].classList.add("btn-success");var a=new FormData;a.append("logo",this.$refs.logo.files[0]),this.$http.patch("campaign/"+this.campaign.id+"/",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(a){e.campaign=a.data,e.$refs["text-"+t.target.id].innerText="Enregistré"})).catch((function(t){console.log(t.response)}))},edit:function(){var t=this;if(this.campaign){var e=new FormData;e.append("author",this.$store.state.user_id),e.append("name",this.campaign.name),e.append("goal_amount",this.campaign.goal_amount),e.append("link",this.campaign.link),e.append("description",this.campaign.description),e.append("video",this.campaign.video),e.append("html_template",this.campaign.html_template),this.$http.patch("campaign/"+this.campaign.id+"/",e).then((function(e){t.campaign=e.data})).catch((function(t){console.log(t.response)}))}}}},Ht=Mt,Jt=Object(m["a"])(Ht,Gt,Ft,!1,null,null,null),Ut=Jt.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-ecommerce"},[a("div",{staticClass:"container-fluid dashboard-content "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"d-flex justify-content-between"},[a("h2",{staticClass:"pageheader-title"},[t._v("Jeux")]),a("router-link",{staticClass:"btn btn-primary mb-1",attrs:{to:{name:"addGame"}}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"plus"}}),t._v("Ajouter un jeu")],1)],1),a("div",{staticClass:"page-breadcrumb"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb d-flex align-items-center"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/home"}},[t._v("Dashboard")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/games"}},[t._v("Jeux")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" Tous les jeux ")])],1)])])])])]),t.errors.visible?a("Alert",{attrs:{type:t.errors.type,message:t.errors.message},on:{dismiss:function(e){t.errors.visible=!1}}}):t._e(),a("div",{staticClass:"ecommerce-widget"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[t._v("Jeux")]),a("div",{staticClass:"card-body p-0"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.games,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.id))]),a("td",[a("span",{staticClass:"text-success"},[a("img",{attrs:{src:e.logo,height:"30",alt:e.name}})])]),a("td",[t._v(" "+t._s(e.name)+" ")]),a("td",[t._v(t._s(t.stripCharacters(e.description)))]),e.total_donations?a("td",[t._v(" "+t._s(e.total_donations)+" € ")]):a("td",[t._v("0 €")]),a("td",[t._v(" "+t._s(e.nb_terminals)+" termina"),e.nb_terminals>1?a("span",[t._v("ux")]):a("span",[t._v("l")])]),a("td",[e.core?a("div",[t._v(t._s(e.core.name))]):t._e()]),a("td",[a("router-link",{staticClass:"text-primary",attrs:{to:"/game/"+e.id+"/edit"}},[a("font-awesome-icon",{attrs:{icon:"pen"}})],1)],1),a("td",[a("a",{staticClass:"text-danger",attrs:{href:""},on:{click:function(a){return a.preventDefault(),t.deleteGame(e.id)}}},[a("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)])])})),0)])])])])])])])],1)])},Bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"bg-light"},[a("tr",{staticClass:"border-0"},[a("th",{staticClass:"border-0"},[t._v("#")]),a("th",{staticClass:"border-0"},[t._v("Logo")]),a("th",{staticClass:"border-0"},[t._v("Nom")]),a("th",{staticClass:"border-0"},[t._v("Description")]),a("th",{staticClass:"border-0"},[t._v("Dons collectés")]),a("th",{staticClass:"border-0"},[t._v("Terminaux associés")]),a("th",{staticClass:"border-0"},[t._v("Core")]),a("th",{staticClass:"border-0"}),a("th",{staticClass:"border-0"})])])}],Rt={name:"AllGames",data:function(){return{games:{},errors:{visible:!1,type:"danger",message:""}}},mounted:function(){this.getGames()},methods:{stripCharacters:function(t){return t.length>70?t.substring(0,70)+"..":t},showDetail:function(t){this.$router.push({name:"game",params:{id:t}})},editGame:function(t){this.$router.push("/game/"+t+"/edit")},deleteGame:function(t){var e=this;this.$http.delete("/game/"+t+"/").then((function(){e.getGames()}))},getGames:function(){var t=this;this.$http.get("game/").then((function(e){t.games=e.data}))}}},Wt=Rt,Yt=Object(m["a"])(Wt,Vt,Bt,!1,null,null,null),Kt=Yt.exports,Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-ecommerce"},[a("div",{staticClass:"container-fluid dashboard-content "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"page-header"},[t._m(0),a("div",{staticClass:"page-breadcrumb"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb d-flex align-items-center"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/home"}},[t._v("Dashboard")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/games"}},[t._v("Jeux")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" Ajouter un jeu ")])],1)])])])])]),t.errors.visible?a("Alert",{attrs:{type:t.errors.type,message:t.errors.message},on:{dismiss:function(e){t.errors.visible=!1}}}):t._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"card"},[t._m(1),a("div",{staticClass:"card-body"},[a("h4",{staticClass:"mb-0"},[t._v("Informations générales")]),a("p",[t._v("Les informations générales sur le nouveau jeu.")]),a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"name"}},[t._v("Nom du jeu")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.game.name,expression:"game.name"}],staticClass:"form-control",attrs:{type:"text","aria-describedby":"nameHelp"},domProps:{value:t.game.name},on:{input:function(e){e.target.composing||t.$set(t.game,"name",e.target.value)}}})]),a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"name"}},[t._v("Chemin du fichier (rom)")]),a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[a("font-awesome-icon",{attrs:{icon:"file"}})],1)]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.game.path,expression:"game.path"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.game.path},on:{input:function(e){e.target.composing||t.$set(t.game,"path",e.target.value)}}})])]),a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"name"}},[t._v("Core")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.core,expression:"core"}],staticClass:"custom-select mb-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.core=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("NULL")]),t._l(t.cores,(function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(" "+t._s(e.name)+" ")])}))],2)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"description"}},[t._v("Description")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.game.description,expression:"game.description"}],staticClass:"form-control",attrs:{"aria-describedby":"descHelp"},domProps:{value:t.game.description},on:{input:function(e){e.target.composing||t.$set(t.game,"description",e.target.value)}}}),a("small",{staticClass:"form-text text-muted",attrs:{id:"descHelp"}},[t._v("Une courte description du jeu.")])])])])]),a("div",{staticClass:"card-body border-top"},[a("h4",{staticClass:"mb-0"},[t._v("Médias")]),a("p",[t._v(" Il est important de compresser les images au maximum avant de les uploader. ")]),a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"logo"}},[t._v("Logo")]),a("input",{ref:"logo",staticClass:"form-control-file",attrs:{type:"file","aria-describedby":"fileHelpId",name:"logo"}}),a("small",{staticClass:"form-text text-muted",attrs:{id:"fileHelpId"}},[t._v("Logo PNG, JPEG ou SVG permettant d'identifier clairement l'association.")])])])])]),a("div",{staticClass:"card-body text-center"},[a("button",{staticClass:"btn btn-success",on:{click:function(e){return e.preventDefault(),t.addGame(e)}}},[t._v(" Enregistrer le jeu ")])])])])])],1)])},Xt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-between"},[a("h2",{staticClass:"pageheader-title"},[t._v("Jeux")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header d-flex align-items-center justify-content-between"},[a("h5",{staticClass:"mb-0"},[t._v("Ajouter un jeu")])])}],Zt={name:"AddGame",data:function(){return{game:{},cores:{},core:{},errors:{visible:!1,type:"danger",message:""}}},mounted:function(){this.getCores()},methods:{getCores:function(){var t=this;this.$http.get("core/").then((function(e){t.cores=e.data})).catch((function(){t.errors={visible:!0,type:"danger",message:"Impossible de charger la liste des cores."}}))},handleFileChange:function(t){this.$refs["text-"+t.target.id].innerText="1 fichier sélectionné",this.$refs["text-"+t.target.id].classList.remove("btn-outline-danger"),this.$refs["text-"+t.target.id].classList.add("btn-success")},addGame:function(){var t=this;if(this.game){var e=new FormData;e.append("name",this.game.name),e.append("path",this.game.path),e.append("description",this.game.description),this.core&&e.append("core",this.core.id),e.append("logo",this.$refs.logo.files[0]),this.$http.post("game/",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.game=e.data,t.$router.push("/games")})).catch((function(){t.errors={visible:!0,type:"danger",message:"Impossible de créer un nouveau jeu."}}))}}}},te=Zt,ee=Object(m["a"])(te,Qt,Xt,!1,null,null,null),ae=ee.exports,se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-ecommerce"},[a("div",{staticClass:"container-fluid dashboard-content "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"page-header"},[t._m(0),a("div",{staticClass:"page-breadcrumb"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb d-flex align-items-center"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/home"}},[t._v("Dashboard")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/games"}},[t._v("Jeux")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item",attrs:{"aria-current":"page"}},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/games"}},[t._v(t._s(t.game.name))])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" Modifier ")])],1)])])])])]),t.errors.visible?a("Alert",{attrs:{type:t.errors.type,message:t.errors.message},on:{dismiss:function(e){t.errors.visible=!1}}}):t._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"card"},[t._m(1),a("div",{staticClass:"card-body"},[a("h4",{staticClass:"mb-0"},[t._v("Informations générales")]),a("p",[t._v("Les informations générales sur le jeu.")]),a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"name"}},[t._v("Nom du jeu")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.game.name,expression:"game.name"}],staticClass:"form-control",attrs:{type:"text","aria-describedby":"nameHelp"},domProps:{value:t.game.name},on:{input:function(e){e.target.composing||t.$set(t.game,"name",e.target.value)}}})]),a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"name"}},[t._v("Chemin du fichier (rom)")]),a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[a("font-awesome-icon",{attrs:{icon:"file"}})],1)]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.game.path,expression:"game.path"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.game.path},on:{input:function(e){e.target.composing||t.$set(t.game,"path",e.target.value)}}})])]),a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"name"}},[t._v("Core")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedCore,expression:"selectedCore"}],staticClass:"custom-select mb-2",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedCore=e.target.multiple?a:a[0]}}},t._l(t.cores,(function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(" "+t._s(e.name)+" ")])})),0)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"description"}},[t._v("Description")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.game.description,expression:"game.description"}],staticClass:"form-control",attrs:{"aria-describedby":"descHelp"},domProps:{value:t.game.description},on:{input:function(e){e.target.composing||t.$set(t.game,"description",e.target.value)}}}),a("small",{staticClass:"form-text text-muted",attrs:{id:"descHelp"}},[t._v("Une courte description du jeu.")])])])])]),a("div",{staticClass:"card-body text-center"},[a("button",{staticClass:"btn btn-success",on:{click:function(e){return e.preventDefault(),t.edit(e)}}},[t._v(" Enregistrer les modifications ")])]),a("div",{staticClass:"card-body border-top"},[a("h4",{staticClass:"mb-0"},[t._v("Médias")]),a("p",[t._v(" Il est important de compresser les images au maximum avant de les uploader. ")]),a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"logo"}},[t._v("Logo")]),a("div",[a("img",{staticClass:"rounded border mx-auto my-3 d-block",staticStyle:{"object-fit":"contain"},attrs:{src:t.game.logo,width:"200",height:"200"}}),a("div",{staticClass:"upload-btn-wrapper w-100 text-center "},[a("button",{ref:"text-logo",staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"}},[t._v(" Ajouter une photo ")]),a("input",{ref:"logo",attrs:{type:"file",id:"logo",name:"logo",required:"required"},on:{change:t.editLogo}})])])])])])])])])])],1)])},ie=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-between"},[a("h2",{staticClass:"pageheader-title"},[t._v("Jeux")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header d-flex align-items-center justify-content-between"},[a("h5",{staticClass:"mb-0"},[t._v("Modifier un jeu")])])}],re={name:"EditGame",data:function(){return{game:{},cores:{},selectedCore:{},errors:{visible:!1,type:"danger",message:""}}},mounted:function(){this.getCores(),this.getGame()},methods:{getCores:function(){var t=this;this.$http.get("core/").then((function(e){t.cores=e.data})).catch((function(){t.errors={visible:!0,type:"danger",message:"Impossible de charger la liste des cores."}}))},getGame:function(){var t=this;this.$http.get("game/"+this.$route.params.id+"/").then((function(e){t.game=e.data,t.selectedCore=e.data.core}))},editLogo:function(t){var e=this;if(this.game){this.$refs["text-"+t.target.id].innerText="Enregistrement...",this.$refs["text-"+t.target.id].classList.remove("btn-outline-danger"),this.$refs["text-"+t.target.id].classList.add("btn-success");var a=new FormData;a.append("logo",this.$refs.logo.files[0]),this.$http.patch("game/"+this.$route.params.id+"/",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.game=t.data,e.$router.push("/games")}))}},edit:function(){var t=this;if(this.game){var e=new FormData;e.append("name",this.game.name),e.append("path",this.game.path),e.append("description",this.game.description),e.append("core",this.selectedCore.id),this.$http.put("game/"+this.$route.params.id+"/",e).then((function(e){t.game=e.data,t.$router.push("/games")}))}}}},ne=re,oe=Object(m["a"])(ne,se,ie,!1,null,null,null),le=oe.exports,ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-ecommerce"},[a("div",{staticClass:"container-fluid dashboard-content "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"d-flex justify-content-between"},[a("h2",{staticClass:"pageheader-title"},[t._v("Clients")]),a("router-link",{staticClass:"btn btn-primary mb-1",attrs:{to:{name:"addClient"}}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"plus"}}),t._v("Ajouter un client")],1)],1),a("div",{staticClass:"page-breadcrumb"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb d-flex align-items-center"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/home"}},[t._v("Dashboard")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/clients"}},[t._v("Clients")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" Tous les clients ")])],1)])])])])]),t.errors.visible?a("Alert",{attrs:{type:t.errors.type,message:t.errors.message},on:{dismiss:function(e){t.errors.visible=!1}}}):t._e(),a("div",{staticClass:"ecommerce-widget"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[t._v("Clients")]),a("div",{staticClass:"card-body p-0"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.customers,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.id))]),e.is_active?a("td",[a("span",{staticClass:"text-success"},[t._v("Activé")])]):a("td",[a("span",{staticClass:"text-danger"},[t._v("Désactivé")])]),a("td",[t._v(" "+t._s(e.company)+" ")]),a("td",[t._v(t._s(e.representative))]),"A"==e.sales_type?a("td",[t._v(" Achat ")]):a("td",[t._v("Location")]),1==e.maintenance_type?a("td",[t._v(" Option 1 ")]):a("td",[t._v("Option 2")]),a("td",[a("a",{staticClass:"text-primary",attrs:{href:""},on:{click:function(a){return a.preventDefault(),t.editClient(e.id)}}},[a("font-awesome-icon",{attrs:{icon:"pen"}})],1)]),a("td",[a("a",{staticClass:"text-danger",attrs:{href:""},on:{click:function(a){return a.preventDefault(),t.deleteGame(e.id)}}},[a("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)])])})),0)])])])])])])])],1)])},me=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"bg-light"},[a("tr",{staticClass:"border-0"},[a("th",{staticClass:"border-0"},[t._v("#")]),a("th",{staticClass:"border-0"},[t._v("Status")]),a("th",{staticClass:"border-0"},[t._v("Entreprise")]),a("th",{staticClass:"border-0"},[t._v("Contact")]),a("th",{staticClass:"border-0"},[t._v("Type de contrat")]),a("th",{staticClass:"border-0"},[t._v("Type de maintenance")]),a("th",{staticClass:"border-0"}),a("th",{staticClass:"border-0"})])])}],de={name:"AllClients",data:function(){return{customers:{},errors:{visible:!1,type:"danger",message:""}}},mounted:function(){this.getClients()},methods:{stripCharacters:function(t){return t.length>70?t.substring(0,70)+"..":t},editClient:function(t){this.$router.push("/client/"+t+"/edit")},deleteClient:function(t){var e=this;this.$http.delete("/customer/"+t+"/").then((function(){e.getClients()}))},getClients:function(){var t=this;this.$http.get("customer/").then((function(e){t.customers=e.data}))}}},ue=de,pe=Object(m["a"])(ue,ce,me,!1,null,null,null),ve=pe.exports,ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-ecommerce"},[a("div",{staticClass:"container-fluid dashboard-content "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"page-header"},[t._m(0),a("div",{staticClass:"page-breadcrumb"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb d-flex align-items-center"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/home"}},[t._v("Dashboard")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/clients"}},[t._v("Clients")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" Ajouter un client ")])],1)])])])])]),t.errors.visible?a("Alert",{attrs:{type:t.errors.type,message:t.errors.message},on:{dismiss:function(e){t.errors.visible=!1}}}):t._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"card"},[t._m(1),a("div",{staticClass:"card-body"},[a("h4",{staticClass:"mb-0"},[t._v("Nouveau client")]),a("p",[t._v("Le compte lié au nouveau terminal.")]),a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{staticClass:"col-form-label",attrs:{for:"company"}},[t._v("Nom de l'entreprise")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.company,expression:"customer.company"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.customer.company},on:{input:function(e){e.target.composing||t.$set(t.customer,"company",e.target.value)}}})]),a("div",{staticClass:"form-group col"},[a("label",{staticClass:"col-form-label",attrs:{for:"inputEmail"}},[t._v("Contact au sein de l'entreprise")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.representative,expression:"customer.representative"}],staticClass:"form-control",attrs:{type:"email",placeholder:"name@example.com"},domProps:{value:t.customer.representative},on:{input:function(e){e.target.composing||t.$set(t.customer,"representative",e.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-md-6 col-12"},[a("label",{attrs:{for:"sales_type"}},[t._v("Type de vente")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.customer.sales_type,expression:"customer.sales_type"}],staticClass:"custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.customer,"sales_type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"A"}},[t._v("Achat")]),a("option",{attrs:{value:"L"}},[t._v("Location")])])]),a("div",{staticClass:"form-group col-md-6 col-12"},[a("label",{attrs:{for:"sales_type"}},[t._v("Contrat de maintenance")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.customer.maintenance_type,expression:"customer.maintenance_type"}],staticClass:"custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.customer,"maintenance_type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"option1"}},[t._v("Option 1")]),a("option",{attrs:{value:"option2"}},[t._v("Option 2")])])])])])]),a("div",{staticClass:"card-body text-center"},[a("button",{staticClass:"btn btn-success",on:{click:function(e){return e.preventDefault(),t.addClient(e)}}},[t._v(" Ajouter le client ")])])])])])],1)])},fe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-between"},[a("h2",{staticClass:"pageheader-title"},[t._v("Clients")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header d-flex align-items-center justify-content-between"},[a("h5",{staticClass:"mb-0"},[t._v("Ajouter un client")])])}],he={name:"AddClient",data:function(){return{customer:{},errors:{visible:!1,type:"danger",message:""}}},mounted:function(){},methods:{addClient:function(){var t=this;this.$http.post("customer/",this.customer).then((function(){t.$router.push("/clients")})).catch((function(){t.errors={visible:!0,type:"danger",message:"Erreur dans l'enregistrement du client."}}))}}},be=he,Ce=Object(m["a"])(be,ge,fe,!1,null,null,null),_e=Ce.exports,xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-ecommerce"},[a("div",{staticClass:"container-fluid dashboard-content "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"page-header"},[t._m(0),a("div",{staticClass:"page-breadcrumb"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb d-flex align-items-center"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/home"}},[t._v("Dashboard")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/terminals"}},[t._v("Terminaux")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" Ajouter un terminal ")])],1)])])])])]),t.errors.visible?a("Alert",{attrs:{type:t.errors.type,message:t.errors.message},on:{dismiss:function(e){t.errors.visible=!1}}}):t._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"card"},[t._m(1),t.customer.company?a("div",{staticClass:"card-body"},[a("h4",{staticClass:"mb-0"},[t._v("Nouveau client")]),a("p",[t._v("Le compte lié au nouveau terminal.")]),a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{staticClass:"col-form-label",attrs:{for:"company"}},[t._v("Nom de l'entreprise")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.company,expression:"customer.company"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.customer.company},on:{input:function(e){e.target.composing||t.$set(t.customer,"company",e.target.value)}}})]),a("div",{staticClass:"form-group col"},[a("label",{staticClass:"col-form-label",attrs:{for:"inputEmail"}},[t._v("Contact au sein de l'entreprise")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.representative,expression:"customer.representative"}],staticClass:"form-control",attrs:{type:"email",placeholder:"name@example.com"},domProps:{value:t.customer.representative},on:{input:function(e){e.target.composing||t.$set(t.customer,"representative",e.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-md-6 col-12"},[a("label",{attrs:{for:"sales_type"}},[t._v("Type de vente")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.customer.sales_type,expression:"customer.sales_type"}],staticClass:"custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.customer,"sales_type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"A"},domProps:{selected:"A"==t.customer.sales_type}},[t._v("Achat")]),a("option",{attrs:{value:"L"},domProps:{selected:"L"==t.customer.sales_type}},[t._v("Location")])])]),a("div",{staticClass:"form-group col-md-6 col-12"},[a("label",{attrs:{for:"sales_type"}},[t._v("Contrat de maintenance")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.customer.maintenance_type,expression:"customer.maintenance_type"}],staticClass:"custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.customer,"maintenance_type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"option1"},domProps:{selected:"option1"==t.customer.maintenance_type}},[t._v("Option 1")]),a("option",{attrs:{value:"option2"},domProps:{selected:"option2"==t.customer.maintenance_type}},[t._v("Option 2")])])])])])]):t._e(),a("div",{staticClass:"card-body text-center"},[a("button",{staticClass:"btn btn-success",on:{click:function(e){return e.preventDefault(),t.editClient(e)}}},[t._v(" Modifier le client ")])])])])])],1)])},ye=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-between"},[a("h2",{staticClass:"pageheader-title"},[t._v("Terminaux")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header d-flex align-items-center justify-content-between"},[a("h5",{staticClass:"mb-0"},[t._v("Modifier un client")])])}],we={name:"EditClient",data:function(){return{customer:{},errors:{visible:!1,type:"danger",message:""}}},mounted:function(){this.getCustomer()},methods:{getCustomer:function(){var t=this;this.$http.get("customer/"+this.$route.params.id+"/").then((function(e){t.customer=e.data}))},editClient:function(){var t=this;this.$http.put("customer/"+this.customer.id+"/",this.customer).then((function(){t.$router.push("/clients")})).catch((function(){t.errors={visible:!0,type:"danger",message:"Erreur dans l'enregistrement du client."}}))}}},ke=we,$e=Object(m["a"])(ke,xe,ye,!1,null,null,null),je=$e.exports,Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-ecommerce"},[a("div",{staticClass:"container-fluid dashboard-content "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"d-flex justify-content-between"},[a("h2",{staticClass:"pageheader-title"},[t._v("Cores")]),a("router-link",{staticClass:"btn btn-primary mb-1",attrs:{to:{name:"addCore"}}},[a("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"plus"}}),t._v("Ajouter un core")],1)],1),a("div",{staticClass:"page-breadcrumb"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb d-flex align-items-center"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/home"}},[t._v("Dashboard")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/cores"}},[t._v("Cores")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" Tous les cores ")])],1)])])])])]),t.errors.visible?a("Alert",{attrs:{type:t.errors.type,message:t.errors.message},on:{dismiss:function(e){t.errors.visible=!1}}}):t._e(),a("div",{staticClass:"ecommerce-widget"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[t._v("Cores")]),a("div",{staticClass:"card-body p-0"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.cores,(function(e,s){return a("tr",{key:s},[a("td",[t._v(" "+t._s(e.id)+" ")]),a("td",[t._v(" "+t._s(e.name)+" ")]),a("td",[t._v(" "+t._s(e.path)+" ")]),a("td",[e.bios?a("div",[t._v(" "+t._s(e.bios)+" ")]):t._e()]),a("td",[a("router-link",{staticClass:"text-primary",attrs:{to:"/core/"+e.id+"/edit"}},[a("font-awesome-icon",{attrs:{icon:"pen"}})],1)],1),a("td",[a("a",{staticClass:"text-danger",attrs:{href:""},on:{click:function(a){return a.preventDefault(),t.deleteCore(e.id)}}},[a("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)])])})),0)])])])])])])])],1)])},Ee=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"bg-light"},[a("tr",{staticClass:"border-0"},[a("th",{staticClass:"border-0"},[t._v("#")]),a("th",{staticClass:"border-0"},[t._v("Nom")]),a("th",{staticClass:"border-0"},[t._v("Chemin")]),a("th",{staticClass:"border-0"},[t._v("Bios")]),a("th",{staticClass:"border-0"}),a("th",{staticClass:"border-0"})])])}],Pe={name:"AllCores",data:function(){return{cores:{},errors:{visible:!1,type:"danger",message:""}}},mounted:function(){this.getCores()},methods:{editCore:function(t){this.$router.push("/core/"+t+"/edit")},deleteCore:function(t){var e=this;this.$http.delete("/core/"+t+"/").then((function(){e.getCores()}))},getCores:function(){var t=this;this.$http.get("core/").then((function(e){t.cores=e.data}))}}},De=Pe,Te=Object(m["a"])(De,Ae,Ee,!1,null,null,null),Se=Te.exports,Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-ecommerce"},[a("div",{staticClass:"container-fluid dashboard-content "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"page-header"},[t._m(0),a("div",{staticClass:"page-breadcrumb"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb d-flex align-items-center"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/home"}},[t._v("Dashboard")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/cores"}},[t._v("Cores")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" Ajouter un core ")])],1)])])])])]),t.errors.visible?a("Alert",{attrs:{type:t.errors.type,message:t.errors.message},on:{dismiss:function(e){t.errors.visible=!1}}}):t._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"card"},[t._m(1),a("div",{staticClass:"card-body"},[a("h4",{staticClass:"mb-0"},[t._v("Informations générales")]),a("p",[t._v("Les informations générales sur le nouveau core.")]),a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"name"}},[t._v("Nom du core")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.core.name,expression:"core.name"}],staticClass:"form-control",attrs:{type:"text","aria-describedby":"nameHelp"},domProps:{value:t.core.name},on:{input:function(e){e.target.composing||t.$set(t.core,"name",e.target.value)}}})]),a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"name"}},[t._v("Fichier Core")]),a("input",{ref:"core_file",staticClass:"form-control-file",attrs:{type:"file"}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"bios"}},[t._v("Fichier Bios (optionnel)")]),a("input",{ref:"core_bios",staticClass:"form-control-file",attrs:{type:"file"}})])])])]),a("div",{staticClass:"card-body text-center"},[a("button",{staticClass:"btn btn-success",on:{click:function(e){return e.preventDefault(),t.addCore(e)}}},[t._v(" Enregistrer le core ")])])])])])],1)])},Le=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-between"},[a("h2",{staticClass:"pageheader-title"},[t._v("Cores")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header d-flex align-items-center justify-content-between"},[a("h5",{staticClass:"mb-0"},[t._v("Ajouter un core")])])}],qe={name:"AddCore",data:function(){return{core:{},errors:{visible:!1,type:"danger",message:""}}},mounted:function(){},methods:{addCore:function(){var t=this;if(this.core){var e=new FormData;e.append("name",this.core.name),e.append("path",this.$refs.core_file.files[0]),this.$refs.core_bios.files[0]?e.append("bios",this.$refs.core_bios.files[0]):e.append("bios",""),this.$http.post("core/",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.core=e.data,t.$router.push("/cores")})).catch((function(){t.errors={visible:!0,type:"danger",message:"Impossible de créer un nouveau core."}}))}}}},Oe=qe,Ie=Object(m["a"])(Oe,Ne,Le,!1,null,null,null),ze=Ie.exports,Ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-ecommerce"},[a("div",{staticClass:"container-fluid dashboard-content "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"page-header"},[t._m(0),a("div",{staticClass:"page-breadcrumb"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb d-flex align-items-center"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/home"}},[t._v("Dashboard")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item"},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/cores"}},[t._v("Cores")])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item",attrs:{"aria-current":"page"}},[a("router-link",{staticClass:"breadcrumb-link",attrs:{to:"/cores"}},[t._v(t._s(t.core.name))])],1),a("font-awesome-icon",{staticClass:"mx-1",attrs:{icon:"angle-right",size:"xs"}}),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" Modifier ")])],1)])])])])]),t.errors.visible?a("Alert",{attrs:{type:t.errors.type,message:t.errors.message},on:{dismiss:function(e){t.errors.visible=!1}}}):t._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"card"},[t._m(1),a("div",{staticClass:"card-body"},[a("h4",{staticClass:"mb-0"},[t._v("Informations générales")]),a("p",[t._v("Les informations générales sur le core.")]),a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"name"}},[t._v("Nom du core")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.core.name,expression:"core.name"}],staticClass:"form-control",attrs:{type:"text","aria-describedby":"nameHelp"},domProps:{value:t.core.name},on:{input:function(e){e.target.composing||t.$set(t.core,"name",e.target.value)}}})]),a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"name"}},[t._v("Chemin du core")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.core.path,expression:"core.path"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.core.path},on:{input:function(e){e.target.composing||t.$set(t.core,"path",e.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:"description"}},[t._v("Bios (optionnel)")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.core.bios,expression:"core.bios"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.core.bios},on:{input:function(e){e.target.composing||t.$set(t.core,"bios",e.target.value)}}})])])])]),a("div",{staticClass:"card-body text-center"},[a("button",{staticClass:"btn btn-success",on:{click:function(e){return e.preventDefault(),t.edit(e)}}},[t._v(" Enregistrer les modifications ")])])])])])],1)])},Fe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-between"},[a("h2",{staticClass:"pageheader-title"},[t._v("Cores")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header d-flex align-items-center justify-content-between"},[a("h5",{staticClass:"mb-0"},[t._v("Modifier un core")])])}],Me={name:"EditCore",data:function(){return{core:{},errors:{visible:!1,type:"danger",message:""}}},mounted:function(){this.getCore()},methods:{getCore:function(){var t=this;this.$http.get("core/"+this.$route.params.id+"/").then((function(e){t.core=e.data}))},edit:function(){var t=this;if(this.core){var e=new FormData;e.append("name",this.core.name),e.append("path",this.core.path),e.append("bios",this.core.bios),this.$http.patch("core/"+this.$route.params.id+"/",e).then((function(e){t.core=e.data,t.$router.push("/cores")}))}}}},He=Me,Je=Object(m["a"])(He,Ge,Fe,!1,null,null,null),Ue=Je.exports;s["a"].use(I["a"]);var Ve=[{path:"/",name:"home",component:R},{path:"/cores",name:"cores",component:Se,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/core/add",name:"addCore",component:ze,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/core/:id/edit",name:"editCore",component:Ue,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/terminals",name:"terminals",component:Z,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/terminals/:id",name:"terminal",component:rt,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/terminal/add",name:"addTerminal",component:dt,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/terminal/:id/edit",name:"editTerminal",component:_t,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/campaigns",name:"campaigns",component:jt,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/campaigns/:id",name:"campaign",component:St,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/campaign/add",name:"addCampaign",component:zt,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/campaign/:id/edit",name:"editCampaign",component:Ut,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/games",name:"games",component:Kt,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/game/add",name:"addGame",component:ae,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/game/:id/edit",name:"editGame",component:le,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/clients",name:"clients",component:ve,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/client/add",name:"addClient",component:_e,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/client/:id/edit",name:"editClient",component:je,meta:{requiresAuth:!0,requiresAdmin:!0}}],Be=new I["a"]({routes:Ve});Be.beforeEach((function(t,e,a){if(t.matched.some((function(t){return t.meta.onlyFrom}))){if(e.name==t.meta.onlyFrom)return void a();a("/start")}else if(t.matched.some((function(t){return t.meta.requiresAdmin}))){if(M.getters.isAdmin)return void a();a("/")}else if(t.matched.some((function(t){return t.meta.requiresAuth}))){if(M.getters.isLoggedIn)return void a();a("/login")}else if(t.matched.some((function(t){return t.meta.requiresAnon}))){if(!M.getters.isLoggedIn)return void a();a("/")}else a()}));var Re=Be,We=(a("4989"),a("ab8b"),a("26b9")),Ye=a.n(We),Ke=a("e0ec"),Qe=a.n(Ke),Xe=a("ecee"),Ze=a("c074"),ta=a("ad3d"),ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["alert","alert-"+t.type,"alert-dismissible","fade","show"],attrs:{role:"alert"}},["success"==t.type?a("strong",[t._v("Succès :")]):a("strong",[t._v("Erreur :")]),t._v(" "+t._s(t.message)+" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:t.dismiss}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},aa=[],sa={name:"Alert",props:["type","message"],methods:{dismiss:function(){this.$emit("dismiss")}}},ia=sa,ra=Object(m["a"])(ia,ea,aa,!1,null,null,null),na=ra.exports;a("c0a0"),a("dabe"),a("bb15"),a("bd17"),a("fc12"),a("03cf"),a("0700"),Xe["c"].add(Ze["y"],Ze["p"],Ze["u"],Ze["r"],Ze["e"],Ze["m"],Ze["i"],Ze["q"],Ze["z"],Ze["d"],Ze["f"],Ze["s"],Ze["t"],Ze["x"],Ze["k"],Ze["l"],Ze["g"],Ze["A"],Ze["a"],Ze["c"],Ze["b"],Ze["j"],Ze["v"],Ze["h"],Ze["o"],Ze["w"],Ze["n"]),s["a"].component("font-awesome-icon",ta["a"]),s["a"].component("Alert",na),s["a"].use(Qe.a),s["a"].use(Ye.a,{color:"rgb(91, 184, 93)",failedColor:"red",height:"3px"}),s["a"].config.productionTip=!1,s["a"].prototype.$http=F.a,s["a"].prototype.$http.defaults.baseURL="http://localhost:8000";var oa=localStorage.getItem("token");oa&&(s["a"].prototype.$http.defaults.headers.common["Authorization"]=oa),s["a"].prototype.$http.interceptors.request.use((function(t){return M.commit("loading",!0),t}),(function(t){return console.log("request error"),M.commit("loading",!1),Promise.reject(t)})),s["a"].prototype.$http.interceptors.response.use((function(t){return M.commit("loading",!1),t}),(function(t){return console.log("error in response"),M.commit("loading",!1),t})),new s["a"]({router:Re,store:M,render:function(t){return t(O)}}).$mount("#app")},"7ca3":function(t,e,a){t.exports=a.p+"img/arcade.8b326747.svg"},bb15:function(t,e,a){},bd17:function(t,e,a){},c0a0:function(t,e,a){},dabe:function(t,e,a){},fc12:function(t,e,a){}});
//# sourceMappingURL=app.098744ea.js.map